<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>linux-basic | Leaning Computer Science Journey</title><meta name="author" content="John Jeep"><meta name="copyright" content="John Jeep"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. Linux Basic介绍 Linux 系统的基础使用，包括计算机的硬件知识、Linux常见基础命令的用法。  写文章的初衷：遇见不会的知识和命令，通过网络查找，当时记住了，但过了一段时间后，再一次遇见之前的知识又要查。每次去查不仅要花费很多时间，而且找的东西良莠不齐，因此记下查的知识点，辅助自己，提高效率。 2. 硬件基础知识磁盘阵列（RAID）：利用硬件技术将数个硬盘整合成为一个大硬">
<meta property="og:type" content="article">
<meta property="og:title" content="linux-basic">
<meta property="og:url" content="https://johnjeep.github.io/Linux/Linux/linux-basic/index.html">
<meta property="og:site_name" content="Leaning Computer Science Journey">
<meta property="og:description" content="1. Linux Basic介绍 Linux 系统的基础使用，包括计算机的硬件知识、Linux常见基础命令的用法。  写文章的初衷：遇见不会的知识和命令，通过网络查找，当时记住了，但过了一段时间后，再一次遇见之前的知识又要查。每次去查不仅要花费很多时间，而且找的东西良莠不齐，因此记下查的知识点，辅助自己，提高效率。 2. 硬件基础知识磁盘阵列（RAID）：利用硬件技术将数个硬盘整合成为一个大硬">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://johnjeep.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-04-04T12:24:00.000Z">
<meta property="article:modified_time" content="2025-04-04T12:24:27.215Z">
<meta property="article:author" content="John Jeep">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="linux-basic">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://johnjeep.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "linux-basic",
  "url": "https://johnjeep.github.io/Linux/Linux/linux-basic/",
  "image": "https://johnjeep.github.io/img/butterfly-icon.png",
  "datePublished": "2025-04-04T12:24:00.000Z",
  "dateModified": "2025-04-04T12:24:27.215Z",
  "author": [
    {
      "@type": "Person",
      "name": "John Jeep",
      "url": "https://johnjeep.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://johnjeep.github.io/Linux/Linux/linux-basic/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: John Jeep","link":"链接: ","source":"来源: Leaning Computer Science Journey","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'linux-basic',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/custom.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">262</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">289</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">56</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"></a><a class="nav-page-title" href="/"><span class="site-name">linux-basic</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">linux-basic</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-04-04T12:24:27.215Z" title="更新于 2025-04-04 20:24:27">2025-04-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!--
 * @Author: JohnJeep
 * @Date: 2020-04-04 09:46:51
 * @LastEditors: JohnJeep
 * @LastEditTime: 2025-04-04 19:15:35
 * @Description: Linux 基础用法
 * Copyright (c) 2023 by John Jeep, All Rights Reserved. 
-->

<h1 id="1-Linux-Basic"><a href="#1-Linux-Basic" class="headerlink" title="1. Linux Basic"></a>1. Linux Basic</h1><p>介绍 Linux 系统的基础使用，包括计算机的硬件知识、Linux常见基础命令的用法。</p>
<hr>
<p>写文章的初衷：遇见不会的知识和命令，通过网络查找，当时记住了，但过了一段时间后，再一次遇见之前的知识又要查。每次去查不仅要花费很多时间，而且找的东西良莠不齐，因此记下查的知识点，辅助自己，提高效率。</p>
<h1 id="2-硬件基础知识"><a href="#2-硬件基础知识" class="headerlink" title="2. 硬件基础知识"></a>2. 硬件基础知识</h1><p>磁盘阵列（RAID）：利用硬件技术将数个硬盘整合成为一个大硬盘的方法， 操作系统只会看到最后被整合起来的大硬盘。 由于磁盘阵列是由多个硬盘组成， 所以可以达成速度性能、 备份等任务。 </p>
<h2 id="2-1-MBR"><a href="#2-1-MBR" class="headerlink" title="2.1. MBR"></a>2.1. MBR</h2><p>MBR(Master Boot Record): 主引导记录</p>
<p>引导启动程序记录区与分区表通常放在磁盘的第一个扇区，这个扇区通常大小为 512 bytes。</p>
<ul>
<li><p>446字节的<strong>MBR</strong>安装启动引导程序，64 字节的<strong>分区表</strong>记录整块硬盘分区的状态。</p>
</li>
<li><p>由于分区表所在区块仅有64 Bytes容量， 因此最多仅能有四组记录区，每组记录区记录了该区段的启始与结束的柱面号码。 </p>
<blockquote>
<p>引导启动程序的作用：加载内核文件。</p>
</blockquote>
</li>
</ul>
<ol>
<li><p>其实所谓的“分区”只是针对那个64 Bytes的分区表进行设置而已！</p>
</li>
<li><p>硬盘默认的分区表仅能写入四组分区信息</p>
</li>
<li><p>这四组分区信息我们称为主要（ Primary） 或延伸（ Extended） 分区</p>
</li>
<li><p>分区的最小单位“通常”为柱面（ cylinder）</p>
</li>
<li><p>当系统要写入磁盘时， 一定会参考磁盘分区表， 才能针对某个分区进行数据的处理</p>
</li>
</ol>
<p>扩展分区</p>
<ul>
<li>扩展分区并不是只占一个区块，而是会分布在每个分区的最前面几个扇区来记载分区信息的！</li>
<li>扩展分区的目的是使用额外的扇区来记录分区信息， 扩展分区本身并不能被拿来格式化。 然后我们可以通过扩展分区所指向的那个区块继续作分区的记录。</li>
</ul>
<p>MBR 主要分区(Primary)、 扩展分区(Extend)与逻辑分区(logical) 三者的区别</p>
<ul>
<li>主要分区与扩展分区最多可以有四个（ 硬盘的限制）</li>
<li>扩展分区最多只能有一个（ 操作系统的限制）</li>
<li>逻辑分区是由扩展分区持续切割出来的分区；</li>
<li>能够被格式化后作为数据存取的分区是：主要分区与逻辑分区，扩展分区无法格式化；</li>
<li>逻辑分区的数量依操作系统而不同，在Linux系统中 SATA 硬盘已经可以突破63个以上的分区限制；</li>
</ul>
<p>MBR分区的缺点</p>
<ul>
<li>操作系统无法抓取到 2T 以上的磁盘容量！</li>
<li>MBR 仅有一个区块，若被破坏后，经常无法或很难救援。</li>
<li>MBR 内存放的启动引导程序最大为 446Bytes， 无法容纳较多的程序码。</li>
</ul>
<h2 id="2-2-GPT"><a href="#2-2-GPT" class="headerlink" title="2.2. GPT"></a>2.2. GPT</h2><p>GPT: GUID Partition Table，源自EFI标准的一种较新的磁盘分区表结构的标准，支持64位的寻址。</p>
<p>LBA(Logical Block Address): 逻辑区块位址</p>
<ul>
<li>LBA0(MBR兼容区块)：储存了第一阶段的启动引导程序。</li>
<li>LBA1(GPT表头记录)：记录了分区表本身的位置与大小， 同时记录了备份用的 GPT 分区（在最后 34 个 LBA 区块）放置的位置，同时放置了分区表的检验机制码（ CRC32），操作系统可以根据这个检验码来判断 GPT 是否正确。 </li>
<li>LBA2-33（实际记录分区的信息地方）：从 LBA2 区块开始，每个 LBA 都可以记录 4 组分区记录，所以在默认的情况下，总共可以有 4*32 &#x3D; 128 组分区记录。 因为每个 LBA 有 512Bytes， 因此每组记录用到 128Bytes 的空间， 除了每组记录所需要的识别码与相关的记录之外， GPT 在每组记录中分别提供了 64bits 来记载开始&#x2F;结束的扇区号码。</li>
</ul>
<p>GPT 分区已经没有所谓的主、 扩展、 逻辑分区的概念，既然每组纪录都可以独立存在，当然每个都可以视为是主分区， 每一个分区都可以拿来格式化使用。</p>
<h2 id="2-3-BIOS与UEFI"><a href="#2-3-BIOS与UEFI" class="headerlink" title="2.3. BIOS与UEFI"></a>2.3. BIOS与UEFI</h2><p>BIOS：是一个写入到主板上的一个软件程序（仅有16位），采用汇编语言编写的。 </p>
<p>Boot loader的主要任务</p>
<ul>
<li><p>提供加载项：用户可以选择不同的启动选项，这也是多重引导的重要功能。</p>
</li>
<li><p>加载内核文件：直接指向可使用的程序区段，来启动操作系统。</p>
</li>
<li><p>转交其它启动引导程序：将启动管理功能转交给其它引导程序负责。</p>
<blockquote>
<p>每个分区都有自己的启动扇区(boot sector)。启动引导程序只会认识自己的系统分区内的可开机核心文件， 以及其它启动引导程序而已；</p>
</blockquote>
</li>
</ul>
<p>如果要安装多重开机，为什么最好先安装Windows再安装Linux呢？</p>
<blockquote>
<p>因为 Linux在安装的时候，你可以选择将启动引导程序安装在 MBR 或其它分区的启动扇区， 而且Linux的启动引导程序可以手动设置选项，所以你可以在Linux的启动引导程序里面加入Windows启动的选项；<br>Windows在安装的时候， 它的安装程序会主动的覆盖掉 MBR 以及自己所在分区的启动扇区，你没有选择的机会， 而且它没有让我们自己选择选项的功能。因此，如果先安装Linux再安装Windows的话，那么 MBR 的启动引导程序就只会有Windows的选项， 而不会有Linux的选项（ 因为原本在MBR内的Linux的启动引导程序就会被覆盖掉） 。</p>
</blockquote>
<p>UEFI(Unified Extensible Firmware Interface): 统一可扩展固件接口，采用C语言编写的。其中UEFI可以直接获取GPT的分区表。</p>
<p>为什么在安装系统时，需要将 UEFI 的 secure boot 关闭？ </p>
<blockquote>
<p>因为使用secure boot会使将要启动的操作系统，必须要被UEFI验证，否则就无法启动。</p>
</blockquote>
<h2 id="2-4-分区"><a href="#2-4-分区" class="headerlink" title="2.4. 分区"></a>2.4. 分区</h2><p>挂载：利用一个目录当成进入点，将磁盘分区的数据放置在该目录下。其中根目录（&#x2F;）必须挂载到某个分区，其它的目录可以依据用户的的需求挂载到不同的分区。</p>
<p>操作系统开机的流程：BIOS—&gt;MBR—&gt;引导启动程序—&gt;内核文件</p>
<p>swap 分区：磁盘模拟内存的交换分区，当有数据被存放在物理内存里面，但这些数据又不是常被CPU使用时，这些不常被使用的数据将会被扔到硬盘的交换分区当中去，而速度较快的物理内存将被释放出来给真正需要的程序使用。交换分区不会使用目录树的挂载，所有交换分区就不需要指定挂载点。</p>
<h1 id="3-基础命令"><a href="#3-基础命令" class="headerlink" title="3. 基础命令"></a>3. 基础命令</h1><h2 id="3-1-touch"><a href="#3-1-touch" class="headerlink" title="3.1. touch"></a>3.1. touch</h2><p>touch fileName：文件不存在新建一个文本；文件存在时，修改文件创建的时间。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> test.txt</span><br></pre></td></tr></table></figure>

<h2 id="3-2-rm"><a href="#3-2-rm" class="headerlink" title="3.2. rm"></a>3.2. rm</h2><p>rm fileName(remove)：删除一个文本</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf: 删除一个目录下的所有文件；以下为两个常用的参数</span><br><span class="line"></span><br><span class="line">参数</span><br><span class="line">  -i(interactive)：让系统在执行前确认。</span><br><span class="line">  -r(recursive)：递归</span><br></pre></td></tr></table></figure>

<h2 id="3-3-mkdir"><a href="#3-3-mkdir" class="headerlink" title="3.3. mkdir"></a>3.3. mkdir</h2><p>mkdir(make directory)：新建一个目录。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">创建多层的目录加参数 -p(--parents)</span><br><span class="line"></span><br><span class="line">一次性创建很多个文件夹</span><br><span class="line">[root@CentOS7 ~]# <span class="built_in">mkdir</span> <span class="built_in">test</span>/bb&#123;1..10&#125;</span><br><span class="line">[root@CentOS7 ~]# <span class="built_in">ls</span> <span class="built_in">test</span>/</span><br><span class="line">bb1  bb10  bb2  bb3  bb4  bb5  bb6  bb7  bb8  bb9</span><br></pre></td></tr></table></figure>

<h2 id="3-4-rmdir"><a href="#3-4-rmdir" class="headerlink" title="3.4. rmdir"></a>3.4. rmdir</h2><p>rmdir: 移除一个目录</p>
<h2 id="3-5-mv"><a href="#3-5-mv" class="headerlink" title="3.5. mv"></a>3.5. mv</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> 命令用来将文件或目录改名或将文件由一个目录移入另一个目录中。</span><br><span class="line"><span class="built_in">mv</span> <span class="built_in">source</span> dest 将文件源文件或目录 (<span class="built_in">source</span>) 移到 目标文件或目录处 (dest)，并重名为 dest。</span><br><span class="line"></span><br><span class="line">移动文件： <span class="built_in">mv</span> a.txt /home/Desptop/ 将当前目录下的 a.txt 文件移动到 /home/Desktop/ 路径下</span><br><span class="line">移动目录： <span class="built_in">mv</span> /usr/lib/* /home 将 /usr/lib/ 路径下的所有文件都移动到 /home/ 路径下。</span><br><span class="line"></span><br><span class="line">参数选项：</span><br><span class="line">  -v(verbose)： 显示 move 命令执行的过程。</span><br></pre></td></tr></table></figure>

<h2 id="3-6-cp"><a href="#3-6-cp" class="headerlink" title="3.6. cp"></a>3.6. cp</h2><p>cp 命令拷贝文件和目录。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> src dest  将文件src拷贝到当前目录下为dest文件</span><br><span class="line"></span><br><span class="line">注意：拷贝目录时，要加参数 -r(recursive)</span><br></pre></td></tr></table></figure>

<p>拷贝操作会复制执行者的属性和权限。</p>
<h2 id="3-7-ls"><a href="#3-7-ls" class="headerlink" title="3.7. ls"></a>3.7. ls</h2><p>ls 命令列出文件夹中的内容</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">参数</span><br><span class="line">  -a  显示所有的文件，包含隐藏的</span><br><span class="line">  -l  详细的输出文件夹中内容</span><br><span class="line">  -h  以人类可读的形式输出文件的大小</span><br><span class="line">  --full-time  以完整的时间格式输出</span><br><span class="line">  -t  根据最后修改的时间排序，最新的在第一个</span><br><span class="line">  -F  在不同的文件结尾输出不同的特殊符号</span><br><span class="line">  -d  显示文件夹本生信息，不输出其中的内容</span><br><span class="line">  -r(reverse)  逆序排序</span><br><span class="line">  -S  默认按照从小到大对文件夹大小排序</span><br><span class="line">  -i  显示文件的 inode 信息</span><br></pre></td></tr></table></figure>

<p>例子1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -al: 查看所有隐藏的文件  </span><br><span class="line">ls -l | grep &quot;*-&quot; | wc -l 查看当前目录下的文件夹目录个数（不包含子目录中的目录）。</span><br><span class="line">ls | wc -l 统计当前目录下总共有多少行</span><br></pre></td></tr></table></figure>

<p>例2：查看当前路径下的链接文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@centos]# ls -lF | grep ^l</span><br><span class="line">lrwxrwxrwx 1 root root       18 7月   7 2021 libcrypto.so -&gt; libcrypto.so.1.0.0*</span><br><span class="line">lrwxrwxrwx 1 root root       12 7月   7 2021 libcurl.so -&gt; libcurl.so.4*</span><br><span class="line">lrwxrwxrwx 1 root root       20 7月   7 2021 libmysqlclient.so -&gt; libmysqlclient.so.20*</span><br><span class="line">lrwxrwxrwx 1 root root       12 6月   3 2021 libpcre.so -&gt; libpcre.so.1</span><br></pre></td></tr></table></figure>

<h2 id="3-8-stat"><a href="#3-8-stat" class="headerlink" title="3.8. stat"></a>3.8. stat</h2><p>stat 查看文件的详细信息，比 ls 查看的更多</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例子：</span><br><span class="line">[root@CentOS7 ~]# <span class="built_in">stat</span> t.txt</span><br><span class="line">  File: ‘t.txt’</span><br><span class="line">  Size: 149             Blocks: 8          IO Block: 4096   regular file</span><br><span class="line">Device: fd00h/64768d    Inode: 34955932    Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Context: unconfined_u:object_r:admin_home_t:s0</span><br><span class="line">Access: 2021-11-20 21:20:51.966004651 +0800</span><br><span class="line">Modify: 2021-11-20 21:20:44.858014426 +0800</span><br><span class="line">Change: 2021-11-20 21:20:44.858014426 +0800</span><br><span class="line"> Birth: -</span><br></pre></td></tr></table></figure>

<h2 id="3-9-disk"><a href="#3-9-disk" class="headerlink" title="3.9. disk"></a>3.9. disk</h2><p>du(disk usage)：显示指定的目录或文件所占用的磁盘空间大小。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">参数</span><br><span class="line">  -h(human)：以人类容易看懂的方式显示</span><br><span class="line">  -M(megabytes): 以1MB为单位</span><br><span class="line">  -s(summarize): 仅显示总计</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line">显示指定路径下文件的大小</span><br><span class="line">[root@localhost ~]# du -sh 路径名 </span><br><span class="line"></span><br><span class="line">统计 `~/` 路径下每个文件的大小</span><br><span class="line">[root@localhost ~]# du -sh ~/*</span><br><span class="line">4.0K    /root/anaconda-ks.cfg</span><br><span class="line">0       /root/Desktop</span><br><span class="line">0       /root/Documents</span><br><span class="line">0       /root/Downloads</span><br><span class="line">0       /root/Music</span><br><span class="line">0       /root/Pictures</span><br><span class="line">0       /root/Public</span><br><span class="line">2.2M    /root/redis-6.0.16.tar.gz</span><br><span class="line">0       /root/Templates</span><br><span class="line">0       /root/Videos</span><br><span class="line"></span><br><span class="line">统计当前目录下各个文件的大小</span><br><span class="line">[root@localhost ~]# du -h --max-depth=1</span><br></pre></td></tr></table></figure>

<h2 id="3-10-fdisk"><a href="#3-10-fdisk" class="headerlink" title="3.10. fdisk"></a>3.10. fdisk</h2><p>fdisk 操作磁盘分区表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">参数：</span><br><span class="line">  -l 查看硬盘的情况</span><br></pre></td></tr></table></figure>

<h2 id="3-11-df"><a href="#3-11-df" class="headerlink" title="3.11. df"></a>3.11. df</h2><p>df(disk free): 显示Linux 系统上文件系统的磁盘使用情况 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">参数项：</span><br><span class="line">  -h(human)：以人类容易看懂的方式显示</span><br><span class="line">  -i(inodes): 列出 inode 信息，不列出已使用的 block</span><br><span class="line">  -H: 很像 -h, 但是用 1000 为单位而不是用 1024</span><br></pre></td></tr></table></figure>

<h2 id="3-12-mount"><a href="#3-12-mount" class="headerlink" title="3.12. mount"></a>3.12. mount</h2><p>mount 挂载命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法形式</span><br><span class="line">  mount 设备名字 挂在目录  </span><br><span class="line">  mount –t <span class="built_in">type</span> dev <span class="built_in">dir</span></span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">  –t <span class="built_in">type</span> ：是需要挂载的文件系统类型，光盘文件系统类型是：iso9660；</span><br><span class="line">  dev：挂载文件系统的设备名称，光盘驱动器的设备名称是/dev/cdrom; </span><br><span class="line">  <span class="built_in">dir</span>：挂载点，即挂载到的文件目录路径</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  mount -t iso9660 /dev/cdrom /media/drom</span><br></pre></td></tr></table></figure>

<h2 id="3-13-umount"><a href="#3-13-umount" class="headerlink" title="3.13. umount"></a>3.13. umount</h2><p>umout 设备装载常用命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line">  umount <span class="built_in">dir</span> device […]</span><br></pre></td></tr></table></figure>

<h2 id="3-14-which"><a href="#3-14-which" class="headerlink" title="3.14. which"></a>3.14. which</h2><p>在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">示例：`<span class="built_in">which</span> gcc`</span><br></pre></td></tr></table></figure>

<h2 id="3-15-whereis"><a href="#3-15-whereis" class="headerlink" title="3.15. whereis"></a>3.15. whereis</h2><p>whereis: 查找系统中包含可以找到的所有文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">参数 -b : 只能用于搜索程序名和二进制文件</span><br><span class="line"></span><br><span class="line">示例：whereis gcc</span><br></pre></td></tr></table></figure>

<h2 id="3-16-hostname"><a href="#3-16-hostname" class="headerlink" title="3.16. hostname"></a>3.16. hostname</h2><p>hostname 是 Linux 的主机名。而 Linux 的 hostname 位于 <code>/etc/hostname</code> 下，修改此路径下的文件是永久有效的。</p>
<p>若直接在终端使用命令 <code>hostname xxx</code> 修改，修改后仅仅是本次有效，重启后就失效了。 </p>
<h1 id="4-系统相关"><a href="#4-系统相关" class="headerlink" title="4. 系统相关"></a>4. 系统相关</h1><ul>
<li>uname -a:  查看 Linux 版本</li>
<li><code>lscpu</code>: 查看系统 CPU 情况</li>
<li><code>locale -a</code>： 列出系统支持的所有语言环境</li>
<li><code>eject</code>: 将光盘驱动器中的光盘轻轻弹出和收回</li>
<li><code>nslookup 域名</code> 查看域名对应的IP地址</li>
</ul>
<h1 id="5-文件查看命令"><a href="#5-文件查看命令" class="headerlink" title="5. 文件查看命令"></a>5. 文件查看命令</h1><h2 id="5-1-cat"><a href="#5-1-cat" class="headerlink" title="5.1. cat"></a>5.1. cat</h2><p>cat(concatenate)：从第一行开始显示文件内容，将要显示的内容一次性的输出在屏幕上。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">参数项</span><br><span class="line">  - n 显示行号</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  <span class="built_in">cat</span> &lt; hello.txt &gt; hello2.txt   <span class="comment"># 将 hello.txt 文件内容重定向输出到 hello.txt 文件中，相当于 cp 指令的一个副本。  </span></span><br></pre></td></tr></table></figure>

<h2 id="5-2-tac"><a href="#5-2-tac" class="headerlink" title="5.2. tac"></a>5.2. tac</h2><p>tac：从最后一行开始显示文件内容。</p>
<h2 id="5-3-nl"><a href="#5-3-nl" class="headerlink" title="5.3. nl"></a>5.3. nl</h2><p>nl ：查看文件时可以显示行号。</p>
<h2 id="5-4-more"><a href="#5-4-more" class="headerlink" title="5.4. more"></a>5.4. more</h2><p>more：一页一页的显示文件内容，只能往后翻。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-n：可以显示行号</span><br></pre></td></tr></table></figure>

<h2 id="5-5-less"><a href="#5-5-less" class="headerlink" title="5.5. less"></a>5.5. less</h2><p>less 一页一页的显示文件内容，既可以往后翻又可以往前翻，一般用的最多。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">参数：</span><br><span class="line"> -n：可以显示行号</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">快捷键</span><br><span class="line">    空格键：向下翻一页。一般使用上下箭头进行翻页。</span><br><span class="line">    /字符串：向下查找字符串。</span><br><span class="line">    ?字符串：向上查找字符串。</span><br><span class="line">    n：重复前一个查找。</span><br><span class="line">    N：反向重复前一个查找。</span><br><span class="line">    g：进到这个数据的第一行。</span><br><span class="line">    G：进到这个数据的最后一行。</span><br><span class="line">    q：退出less程序。</span><br></pre></td></tr></table></figure>

<h2 id="5-6-od"><a href="#5-6-od" class="headerlink" title="5.6. od"></a>5.6. od</h2><p>od(Octal Dump)：默认以二进制的方式读取文件内容。将指定文件内容以八进制、十进制、十六进制、浮点格式或 ASCII 编码字符方式显示，通常用于显示或查看文件中不能直接显示在终端的字符。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">格式：<span class="built_in">od</span> -t TYPE 文件</span><br><span class="line"></span><br><span class="line">参数</span><br><span class="line">    -A RADIX   --address-radix=RADIX   选择以何种基数表示地址偏移</span><br><span class="line">    -j BYTES   --skip-bytes=BYTES      跳过指定数目的字节</span><br><span class="line">    -N BYTES   --read-bytes=BYTES      输出指定字节数</span><br><span class="line">    -S [BYTES] --strings[=BYTES]       输出长度不小于指定字节数的字符串，BYTES 缺省为 3</span><br><span class="line">    -v         --output-duplicates     输出时不省略重复的数据</span><br><span class="line">    -w [BYTES] --width[=BYTES]         设置每行显示的字节数，BYTES 缺省为 32 字节</span><br><span class="line">    -t TYPE    --format=TYPE           指定输出格式，格式包括 a、c、d、f、o、u 和 x，各含义如下：</span><br><span class="line">      a：利用默认的字符来输出。</span><br><span class="line">      c：利用ASCII字符来输出。</span><br><span class="line">      d[SIZE]：利用有符号的十进制(decimal)来输出数据。每个整数占用 SIZE bytes。</span><br><span class="line">      f[SIZE]：利用浮点数(floating)来输出数据。每个浮点数占用 SIZE bytes。</span><br><span class="line">      o[SIZE]：利用八进制(octal)来输出数据。每个整数占用 SIZE bytes。</span><br><span class="line">      u[SIZE]：利用无符号的十进制(decimal)来输出数据。每个整数占用 SIZE bytes。</span><br><span class="line">      x[SIZE]：利用十六进制(hexadecimal)来输出数据。每个整数占用 SIZE bytes。</span><br><span class="line"></span><br><span class="line">      SIZE 可以为数字，也可以为大写字母。如果 TYPE 是 [doux] 中的一个，那么 SIZE 可以为</span><br><span class="line">          C  = sizeof(char)，S = sizeof(short)，I = sizeof(int)，L = sizeof(long)。</span><br><span class="line">          如果 TYPE 是 f，那么 SIZE 可以为 F = sizeof(<span class="built_in">float</span>)，D = sizeof(double) ，L = sizeof(long double)</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  <span class="built_in">od</span> -t x testfile  <span class="comment"># 以十六进制输出 testfile，默认以四字节为一组（一列）显示。</span></span><br><span class="line">  <span class="built_in">echo</span> abc | <span class="built_in">od</span> -t dCc   <span class="comment"># 查看字符的 ASCII 表</span></span><br></pre></td></tr></table></figure>

<h2 id="5-7-head-和-tail"><a href="#5-7-head-和-tail" class="headerlink" title="5.7. head 和 tail"></a>5.7. head 和 tail</h2><p>head、tail：取出文件前几行或最后几行的数据。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line">  在屏幕上列出 /etc/man_db.conf 文件中的第11行到22行之间的内容，并且显示行号。 </span><br><span class="line">  <span class="built_in">cat</span> -n /etc/man_db.conf | <span class="built_in">head</span> -n 20 | <span class="built_in">tail</span> -n 10</span><br></pre></td></tr></table></figure>

<h2 id="5-8-uniq"><a href="#5-8-uniq" class="headerlink" title="5.8. uniq"></a>5.8. uniq</h2><p>uniq 输出或忽略文件的重复行，常与 sort 排序命令结合使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">参数项</span><br><span class="line">  -c, --count    每行前面显示重复出现的次数</span><br><span class="line">  -d, --repeated 只显示重复的行</span><br><span class="line">  -u, --unique   只显示出现过一次的行</span><br></pre></td></tr></table></figure>

<h1 id="6-文件-I-O"><a href="#6-文件-I-O" class="headerlink" title="6. 文件 I&#x2F;O"></a>6. 文件 I&#x2F;O</h1><h2 id="6-1-文件权限"><a href="#6-1-文件权限" class="headerlink" title="6.1. 文件权限"></a>6.1. 文件权限</h2><p>CentOS 使用的是 <code>xfs</code> 作为默认的文件系统。</p>
<p>文件权限</p>
<ul>
<li>可读（Read），可以读取文件的内容。</li>
<li>可写（Write），可以编辑、新增、或修改该文件的内容，但不具备删除该文件的权限。</li>
<li>可执行（eXecute），Linux下，文件是否能够执行，与文件的后缀名无关，仅由是否具备 <code>x</code> 这个权限来决定。注意: X 代表这个文件具有可执行的能力，但能不能执行成功，需要由文件中的内容决定。</li>
</ul>
<blockquote>
<p>对于文件的 rwx 来说，主要都是针对“文件的内容”而言，与文件文件名的存在与否没有关系，因为文件记录的是实际的数据。文件是存放数据的所在，目录则主要记录文件名列表。因此文件名与目录有强烈的关联。</p>
</blockquote>
<p>目录权限</p>
<ul>
<li><p>r: 具有读取文件目录结构的权限</p>
</li>
<li><p>w: 具有改动该目录结构列表的权限。</p>
</li>
<li><p>x: 目录不能被执行，x 表示用户能否进入该目录并且成为工作目录。</p>
<blockquote>
<p>通常一个用户给其它的用户开放目录，至少要具备 <code>rx</code> 权限，其它的用户才能访问当前用户的目录。</p>
</blockquote>
</li>
</ul>
<h2 id="6-2-umask"><a href="#6-2-umask" class="headerlink" title="6.2. umask"></a>6.2. umask</h2><ul>
<li><p>umask: 指定目前用户在建立文件或目录时的默认权限值。</p>
</li>
<li><p>查看当前系统的umask值：<code>0002</code> ;第一个数值为特殊权限值，后面三个分别对应为 <code>rwx</code> 的值。</p>
<blockquote>
<p>一般文件通常用于记录数据，则用户建立的文件默认没有 <code>x</code> 可执行权限，只有 <code>rw</code> 权限，即 <code>-rw-rw-rw-</code></p>
</blockquote>
<blockquote>
<p>用户建立目录 时，默认的权限均开放，即 <code>drwxrwxrwx</code></p>
</blockquote>
<blockquote>
<p>使用 <code>ls -l</code> 查看的文件或目录权限值为：文件或目录的默认值减去 umask 的值。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如：<span class="built_in">umask</span>值为 003</span><br><span class="line">文件：(-rw-rw-rw-)  - (-------wx)  = -rw-rw-r</span><br><span class="line">目录：(drwxrwxrwx)  - (-------wx)  = drwxrwx-r</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="6-3-chattr"><a href="#6-3-chattr" class="headerlink" title="6.3. chattr"></a>6.3. chattr</h2><p>修改文件的隐藏属性：<code>chattr [+-=] [ASacdistu]</code> 该命令一般用于对数据的安全性比较高的地方</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">选项与参数</span><br><span class="line"></span><br><span class="line">+ ： 增加某一个特殊参数， 其他原本存在参数则不动。</span><br><span class="line">- ： 移除某一个特殊参数， 其他原本存在参数则不动。</span><br><span class="line">= ： 设置一定， 且仅有后面接的参数</span><br><span class="line">A ： 当设置了 A 这个属性时， 若你有存取此文件（ 或目录） 时， 他的存取时间 atime 将不会被修改，可避免 I/O 较慢的机器过度的存取磁盘。（目前建议使用文件系统挂载参数处理这个项目）</span><br><span class="line">S ： 一般文件是非同步写入磁盘的， 如果加上 S 这个属性时，当你进行任何文件的修改， 该更动会“同步”写入磁盘中。</span><br><span class="line">a ： 当设置 a 之后， 这个文件将只能增加数据，而不能删除也不能修改数据， 只有root 才能设置这属性</span><br><span class="line">c ： 这个属性设置之后， 将会自动的将此文件“压缩”， 在读取的时候将会自动解压缩，但是在储存的时候， 将会先进行压缩后再储存（ 看来对于大文件似乎蛮有用的！）</span><br><span class="line">d ： 当 dump 程序被执行的时候， 设置 d 属性将可使该文件（ 或目录） 不会被 dump 备份</span><br><span class="line">i ： 这个 i 可就很厉害了！ 他可以让一个文件“不能被删除、 改名、设置链接也无法写入或新增数据！”对于系统安全性有相当大的助益！ 只有 root 能设置此属性</span><br><span class="line">s ： 当文件设置了 s 属性时， 如果这个文件被删除， 他将会被完全的移除出这个硬盘空间，所以如果误删了， 完全无法救回来了！</span><br><span class="line">u ： 与 s 相反的， 当使用 u 来设置文件时， 如果该文件被删除了， 则数据内容其实还存在磁盘中，可以使用来救援该文件！</span><br><span class="line"></span><br><span class="line">注意1： 属性设置常见的是 a 与 i 的设置值， 而且很多设置值必须要身为 root 才能设置</span><br><span class="line">注意2： xfs 文件系统仅支持 AadiS 而已</span><br><span class="line"></span><br><span class="line">范例： 请尝试到/tmp下面创建文件， 并加入 i 的参数， 尝试删除看看。</span><br><span class="line">  [root@study ~]# <span class="built_in">cd</span> /tmp</span><br><span class="line">  [root@study tmp]# <span class="built_in">touch</span> attrtest &lt;==创建一个空文件</span><br><span class="line">  [root@study tmp]# chattr +i attrtest &lt;==给予 i 的属性</span><br><span class="line">  [root@study tmp]# <span class="built_in">rm</span> attrtest &lt;==尝试删除看看</span><br><span class="line">  <span class="built_in">rm</span>: remove regular empty file `attrtest<span class="string">&#x27;? y</span></span><br><span class="line"><span class="string">  rm: cannot remove `attrtest&#x27;</span>: Operation not permitted</span><br><span class="line">  // 看到了吗？连 root 也没有办法将这个文件删除呢！ 赶紧解除设置！</span><br><span class="line"></span><br><span class="line">范例： 请将该文件的 i 属性取消！</span><br><span class="line">[root@study tmp]# chattr -i attrtest</span><br></pre></td></tr></table></figure>

<p>查看文件或目录的隐藏属性：<code>lsattr [-adR] 文件或目录</code></p>
<h2 id="6-4-用户与用户组"><a href="#6-4-用户与用户组" class="headerlink" title="6.4. 用户与用户组"></a>6.4. 用户与用户组</h2><table>
<thead>
<tr>
<th>说明</th>
<th>用户(owner)</th>
<th>用户组(group)</th>
<th>其它用户(other)</th>
</tr>
</thead>
<tbody><tr>
<td>权限</td>
<td>读  写  执行</td>
<td>读  写  执行</td>
<td>读  写  执行</td>
</tr>
<tr>
<td>符号</td>
<td>r  w  x</td>
<td>r  w  x</td>
<td>r  w  x</td>
</tr>
<tr>
<td>权值</td>
<td>4 2 1</td>
<td>4 2 1</td>
<td>4 2 1</td>
</tr>
</tbody></table>
<p><code>ls -l</code>： 查看目录下文件属性的所有信息，每一栏说明如下：</p>
<ul>
<li>第1栏有10个字符，其中第1个字符描述类型，后边9个字符描述权限</li>
<li>第2栏是硬链接数，删除文件其实是将链接数减1 ，减到0了就真正删除文件内容</li>
<li>第3、4栏分别是文件的拥有者及所属群组。</li>
<li>第5栏是文件大小，单位为字节（Byte）</li>
<li>第6栏是最近访问（修改）时间</li>
<li>第7栏是文件名，对于符号链接</li>
</ul>
<h2 id="6-5-用户权限修改"><a href="#6-5-用户权限修改" class="headerlink" title="6.5. 用户权限修改"></a>6.5. 用户权限修改</h2><h3 id="6-5-1-chown"><a href="#6-5-1-chown" class="headerlink" title="6.5.1. chown"></a>6.5.1. chown</h3><p><code>chown</code> 命令是 change owner（改变拥有者）的缩写，修改文件的拥有者。需要要注意的是，用户必须是已经存在系统中的，也就是只能改变为在 <code>/etc/passwd </code>这个文件中有记录的用户名称才可以。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">  <span class="built_in">chown</span> [-R] 用户名 文件或目录</span><br><span class="line">  <span class="built_in">chown</span> [-R] 用户名:用户组名称 文件或目录</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">  -R : 进行递归( recursive )的持续更改，即连同子目录下的所有文件、目录都更新成为这个用户组。</span><br><span class="line">       常常用在更改某一目录的情况。</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@DEV ~]# ll test.txt</span><br><span class="line">-rw------- 1 root root 0 May 10 23:42 test.txt</span><br><span class="line"></span><br><span class="line">[root@DEV ~]# <span class="built_in">chown</span> zhoush test.txt</span><br><span class="line"></span><br><span class="line">[root@DEV ~]# ll test.txt</span><br><span class="line">-rw------- 1 zhoush root 0 May 10 23:42 test.txt</span><br></pre></td></tr></table></figure>

<h3 id="6-5-2-chgrp"><a href="#6-5-2-chgrp" class="headerlink" title="6.5.2. chgrp"></a>6.5.2. chgrp</h3><p><code>chgrp</code> 命令是 change group（改变用户组）的缩写，用于修改文件的用户组。需要注意的是要改变成为的用户组名称，必须在 <code>/etc/group</code> 里存在，否则就会显示错误。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">  <span class="built_in">chgrp</span> [-R] 用户组名称 <span class="built_in">dirname</span>/filename ...</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">  -R : 进行递归( recursive )的持续更改，即连同子目录下的所有文件、目录都更新成为这个用户组。</span><br><span class="line">       常常用在更改某一目录的情况。</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@DEV ~]# ll test.txt</span><br><span class="line">-rw------- 1 zhoush root 0 May 10 23:42 test.txt</span><br><span class="line"></span><br><span class="line">[root@DEV ~]# <span class="built_in">chgrp</span> zhoush test.txt</span><br><span class="line"></span><br><span class="line">[root@DEV ~]# ll test.txt</span><br><span class="line">-rw------- 1 zhoush zhoush 0 May 10 23:42 test.txt</span><br></pre></td></tr></table></figure>

<h3 id="6-5-3-chmod"><a href="#6-5-3-chmod" class="headerlink" title="6.5.3. chmod"></a>6.5.3. chmod</h3><p><code>chmod</code> 命令是修改文件的模式权限，SUID、SGID、SBIT等特性</p>
<blockquote>
<p>sudo: do as su(super user)</p>
</blockquote>
<h3 id="6-5-4-usermod"><a href="#6-5-4-usermod" class="headerlink" title="6.5.4. usermod"></a>6.5.4. usermod</h3><p>在 Linux 用户系统中存在两类组。第一类是<strong>主要用户组</strong>，第二类是<strong>附加用户组</strong>。所有的用户帐户及相关信息都存储在 <code>/etc/passwd</code> 文件中，<code>/etc/shadow</code> 和 <code>/etc/group</code> 文件存储了用户信息。</p>
<ul>
<li><p><code>useradd</code>  增加一个新用户或者更新默认新用户信息</p>
</li>
<li><p><code>usermod</code> 更改用户帐户属性，例如将其添加到一个已有的组中。</p>
</li>
</ul>
<p>将一个新用户添加到主要用户组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -g developers zsh</span><br><span class="line"><span class="built_in">id</span> zsh</span><br></pre></td></tr></table></figure>

<p>将一个新用户添加到附加用户组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -G developers cnzhx</span><br></pre></td></tr></table></figure>

<p>将已存在的用户添加到主要用户组中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod -g developers zsh</span><br><span class="line"><span class="built_in">id</span> zsh</span><br></pre></td></tr></table></figure>

<p>将一个已存在用户添加到附加用户组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -G developers cnzhx</span><br></pre></td></tr></table></figure>

<p>如果要将一个用户从某个组中删除:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd -d user group</span><br></pre></td></tr></table></figure>

<p><font color=red>但是这个时候需要保证 group 不是 user 的主组。</font></p>
<p>​    </p>
<p>参考： <a target="_blank" rel="noopener" href="https://cnzhx.net/blog/linux-add-user-to-group/">https://cnzhx.net/blog/linux-add-user-to-group/</a></p>
<h2 id="6-6-特殊权限"><a href="#6-6-特殊权限" class="headerlink" title="6.6. 特殊权限"></a>6.6. 特殊权限</h2><p>SUID(Set UID)，简写：s，数字：4</p>
<p>对于一个文件的功能：</p>
<ul>
<li><p>SUID 权限仅对二进制程序（ binary program）有效；</p>
</li>
<li><p>执行者对于该程序需要具有 x 的可执行权限；</p>
</li>
<li><p>本权限仅在执行该程序的过程中有效 （ run-time）；</p>
</li>
<li><p>执行者将具有该程序拥有者 （ owner） 的权限。</p>
<blockquote>
<p>注意：SUID仅可用在二进制程序上，不能用在shell脚本上面，因为shell脚本只是将很多的二进制可执行文件调用执行。也不能用在目录上面。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br></pre></td></tr></table></figure></li>
</ul>
<ol>
<li>steve 对于 &#x2F;usr&#x2F;bin&#x2F;passwd 这个程序来说是具有 x 权限的， 表示 steve 能执行passwd；</li>
<li>passwd 的拥有者是 root 这个帐号；</li>
<li>steve 执行 passwd 的过程中， 会“暂时”获得 root 的权限；</li>
<li>&#x2F;etc&#x2F;shadow 就可以被 steve 所执行的 passwd 所修改。</li>
</ol>
<p>对于具有 SUID 特殊权限的文件，可以临时的将该文件的权限由steve（执行者） 变为root（拥有者）。</p>
<p>SGID(Set GID)，简写：s，数字：2</p>
<ul>
<li><p>当文件或目录中的用大 S 表示时，代表该文件或目录本身没有可执行的 x 权限，因此 S 或 T 表示当前操作的权限为空。</p>
</li>
<li><p>可以针对文件或目录操作。</p>
</li>
<li><p>对文件具备的功能</p>
<ul>
<li>仅对二进制程序有用。</li>
<li>程序执行者对于该程序来说，需具备 x 的权限；</li>
<li>执行者在执行的过程中将会获得该程序群组的支持！</li>
</ul>
</li>
<li><p>对目录的功能</p>
<ul>
<li>使用者若对于此目录具有 r 与 x 的权限时， 该使用者能够进入此目录；</li>
<li>使用者在此目录下的有效群组（ effective group） 将会变成该目录的群组；</li>
<li>用途： 若使用者在此目录下具有 w 的权限（ 可以新建文件） ， 则使用者所创建的新文件， 该新文件的群组与此目录的群组相同。</li>
</ul>
</li>
<li><p>SBIT(Sticky BIT)：简写：t，数字：1</p>
<ul>
<li>仅仅只针对目录有作用，对文件没有作用。</li>
<li>对目录的功能<ul>
<li>用户对目录具有 w、x 权限时，即具有写入的权限。</li>
<li>当用户在该目录建立文件或目录时，仅有自己与root才有删除该文件，其他人如法操作。</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>利用数字的方式修改文件权限：将一个文件的权限改为 <code>-rwsr-xr-x</code>，命令为：<code>chmod 4755 filename</code></p>
</blockquote>
<blockquote>
<p>利用符号的方式修改文件权限：SUID为 u+s，SGID为 g+s，SBIT 为 o+t</p>
</blockquote>
<p>参考： <a target="_blank" rel="noopener" href="https://blog.csdn.net/hudashi/article/details/7797393">https://blog.csdn.net/hudashi/article/details/7797393</a></p>
<h2 id="6-7-文件类型"><a href="#6-7-文件类型" class="headerlink" title="6.7. 文件类型"></a>6.7. 文件类型</h2><table>
<thead>
<tr>
<th>类型符号</th>
<th>文件类型</th>
<th>分类</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>一般文件(regular)</td>
<td>纯文本文件、二进制文件、数据文件</td>
</tr>
<tr>
<td>d</td>
<td>目录文件(directory)</td>
<td>null</td>
</tr>
<tr>
<td>c</td>
<td>字符设备文件(character device)</td>
<td>null</td>
</tr>
<tr>
<td>l</td>
<td>符号链接文件(symbolic link)</td>
<td>null</td>
</tr>
<tr>
<td>p, f</td>
<td>数据传输文件(pipe, FIFO)</td>
<td>null</td>
</tr>
<tr>
<td>s</td>
<td>套接文件(socket)</td>
<td>null</td>
</tr>
</tbody></table>
<p>Linux 下文件的最大长度：单一文件或目录的最大允许文件名为 255 bytes，以一个 ASCII 英文占用一个字节来说，则可达 255个 字符长度，每个汉字占用  2 个字节，则最大的文件名大约在 128 个汉字之间。</p>
<h2 id="6-8-Linux-系统目录"><a href="#6-8-Linux-系统目录" class="headerlink" title="6.8. Linux 系统目录"></a>6.8. Linux 系统目录</h2><p>FHS(Filesystem Hierarchy Standard) ：文件系统分层标准</p>
<ul>
<li>boot：开机启动配置文件。Linux kernel常用的文件名为：vmlinuz，如果使用的是grub2这个开机管理程序， 则还会存在 <code>/boot/grub2/ </code>这个目录。</li>
<li>dev：存储外部设备文件。比要重要的文件有 &#x2F;dev&#x2F;null, &#x2F;dev&#x2F;zero, &#x2F;dev&#x2F;tty, &#x2F;dev&#x2F;loop, &#x2F;dev&#x2F;sd等等。</li>
<li>etc：存储系统配置文件，只有root权限才可以修改</li>
<li>bin：放置系统的可执行文件</li>
<li>lib：存放开机时会用到的函数库， 以及在 &#x2F;bin 或 &#x2F;sbin 下面的指令会调用的函数库</li>
<li>media：放置媒体文件：软盘、光盘、DVD</li>
<li>mnt：挂载目录，这个目录的用途与&#x2F;media相同，只是有了 &#x2F;media 之后，这个目录就用来暂时挂载用了。</li>
<li>opt：第三方软件放置处</li>
<li>home：系统默认使用者的文件夹</li>
<li>root：系统管理员（root）的主文件夹。</li>
<li>sbin：放置为开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。</li>
<li>srv：srv可以视为“service”的缩写，是一些网络服务启动之后存放的位置</li>
<li>proc：是一个虚拟文件系统，它放置的数据都在内存当中，例如系统核心、行程信息（process）、周边设备的状态及网络状态等等。这个文件本身不占任何的硬盘空间。</li>
<li>sys：这个目录其实跟&#x2F;proc非常类似，也是一个虚拟的文件系统，主要也是记录内核(kernel)与系统硬件信息较相关的参数。包括目前已载入的内核模块与内核侦测到的硬件设备信息等等，这个目录同样不占硬盘容量。</li>
<li>tmp：让一般使用者或者是正在执行的程序暂时放置文件的地方，这个目录是任何人都能够存取的</li>
<li>run：早期的 FHS 规定系统开机后所产生的各项信息应该要放置到 &#x2F;var&#x2F;run 目录下，新版的 FHS 则规范到 &#x2F;run 下面。</li>
<li>usr：是Unix Software Resource的缩写，是Unix操作系统软件资源所放置的目录，而不是使用者的数据。这个目录有点类似Windows 系统的C盘。</li>
<li>var：主要针对常态性变动（variable）的文件，包括高速缓存（cache）、登录文件（log file）以及某些软件运行所产生的文件， 包括程序文件（lock file, run file），或者例如MySQL数据库的文件等等。</li>
<li>lib64：支持 64 位的 &#x2F;lib64 函数库</li>
<li>lost+found：是使用标准的ext2&#x2F;ext3&#x2F;ext4文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时， 将一些遗失的片段放置到这个目录下。不过如果使用的是 xfs 文件系统的话，就不会存在这个目录了！<ul>
<li>&#x2F;usr&#x2F;bin&#x2F;：所有一般用户能够使用的指令都放在这里，使用链接文件的方式将 &#x2F;bin 链接至此。也就是说， &#x2F;usr&#x2F;bin 与 &#x2F;bin 是一模一样了！另外，FHS 要求在此目录下不应该有子目录。</li>
</ul>
</li>
<li>&#x2F;usr&#x2F;lib&#x2F;：基本上，与 &#x2F;lib 功能相同，所以 &#x2F;lib 就是链接到此目录中的！</li>
<li>&#x2F;usr&#x2F;local&#x2F;：系统管理员在本机自行安装自己下载的软件，非distribution默认提供者的，建议安装到此目录， 这样会比较便于管理。</li>
<li>&#x2F;usr&#x2F;sbin&#x2F;：非系统正常运行所需要的系统指令。最常见的就是某些网络服务器软件的服务指令（daemon）！不过基本功能与 &#x2F;sbin 也差不多， 因此目前 &#x2F;sbin 就是链接到此目录中的。</li>
<li>&#x2F;usr&#x2F;share&#x2F;：共享数据目录，放置的数据几乎是不分硬件架构均可读取的。</li>
<li>&#x2F;usr&#x2F;games&#x2F;：与游戏相关的数据。</li>
<li>&#x2F;usr&#x2F;include&#x2F;：c&#x2F;c++等程序语言的文件开始（header）与包含档（include）放置处。</li>
<li>&#x2F;usr&#x2F;src&#x2F;：Linux源代码源代码放置处。</li>
<li>&#x2F;usr&#x2F;lib64&#x2F;：与 &#x2F;lib64&#x2F;功能相同，因此目前 &#x2F;lib64 就是链接到此目录中</li>
<li>&#x2F;var&#x2F;cache&#x2F;：应用程序本身运行过程中会产生的一些暂存盘。</li>
<li>&#x2F;var&#x2F;lib&#x2F;：程序本身执行的过程中，需要使用到的数据文件放置的目录。</li>
<li>&#x2F;var&#x2F;lock&#x2F;：设备锁存储的目录。目前此目录链接到 &#x2F;run&#x2F;lock 中！</li>
<li>&#x2F;var&#x2F;log&#x2F;：登录文件放置的目录！里面比较重要的文件，如&#x2F;var&#x2F;log&#x2F;messages, &#x2F;var&#x2F;log&#x2F;wtmp（记录登陆者的信息）等。</li>
<li>&#x2F;var&#x2F;mail&#x2F;：放置个人电子邮件信箱的目录，这个目录&#x2F;var&#x2F;spool&#x2F;mail&#x2F;链接到 &#x2F;var&#x2F;mail&#x2F; 目录。</li>
<li>&#x2F;var&#x2F;run&#x2F;：某些程序或者是服务启动后，会将他们的PID放置在这个目录下喔！ 与 &#x2F;run 相同，这个目录链接到 &#x2F;run去了！</li>
<li>&#x2F;var&#x2F;spool&#x2F;：这个目录通常放置一些伫列数据，所谓的“伫列”就是排队等待其他程序使用的数据啦！ 这些数据被使用后通常都会被删除。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">一些链接文件之间的关系</span><br><span class="line"></span><br><span class="line">/bin --&gt; /usr/bin</span><br><span class="line">/sbin --&gt; /usr/sbin</span><br><span class="line">/lib --&gt; /usr/lib</span><br><span class="line">/lib64 --&gt; /usr/lib64</span><br><span class="line">/var/lock --&gt; /run/lock</span><br><span class="line">/var/run --&gt; /run</span><br></pre></td></tr></table></figure>

<p><img src="/pictures/linux-file-system.png" alt="Alt text"></p>
<h2 id="6-9-绝对路径与相对路径"><a href="#6-9-绝对路径与相对路径" class="headerlink" title="6.9. 绝对路径与相对路径"></a>6.9. 绝对路径与相对路径</h2><p>绝对路径：一定由跟目录(<code>/</code>)写起。例如：<code>/usr/share/doc</code>  在shell脚本中一般使用绝对路径，防止因为不同的工作环境导致一些问题的发生。</p>
<p>相对路径：不是由根目录(<code>/</code>)写起。例如：<code>../man</code>  相对路径只是相对于当前的工作路径。</p>
<h1 id="7-tar"><a href="#7-tar" class="headerlink" title="7. tar"></a>7. tar</h1><p>tar 命令用于的文件的打包和解压。 tar 支持的压缩文件类型有下面几种类型：</p>
<ul>
<li><code>gzip</code>: 压缩文件后缀(*.gz)</li>
<li><code>bzip2</code>: 压缩文件后缀(*.bz2)</li>
<li><code>xz</code>: 压缩文件后缀(*.xz)</li>
</ul>
<p><img src="/pictures/compress.png" alt="Alt text"></p>
<h2 id="7-1-tar文件打包"><a href="#7-1-tar文件打包" class="headerlink" title="7.1. tar文件打包"></a>7.1. tar文件打包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">参数项：</span><br><span class="line"></span><br><span class="line">-c(Create): 打包文件</span><br><span class="line">-t(lisT): 察看打包文件的内容含有哪些文件名</span><br><span class="line">-x(eXtract): 解压打包文件 </span><br><span class="line">  注意：-c, -t, -x 不可同时出现在一串命令行中。</span><br><span class="line">-v(Verbose): 在压缩/解压缩的过程中，将正在处理的文件名显示出来</span><br><span class="line">-f(Filename):  后面要立刻接要被处理的文件名！</span><br><span class="line">-C(direCtory: 目录): 将文件解压在特定的目录</span><br><span class="line">-p(小写):  保存原本文件的权限与属性，不包含根目录 /。</span><br><span class="line">-P(大写)：保留绝对路径，即允许备份的数据中中包含根目录。解压后的数据直接从根目录 / 开始。</span><br><span class="line">-z：通过 gzip 的支持进行压缩/解压，此时文件名最好为  *.tar.gz</span><br><span class="line">-j：通过 bzip2 的支持进行压缩/解压，此时文件名最好为 *.tar.bz2</span><br><span class="line">-J ：通过 xz 的支持进行压缩/解压缩：此时文件名最好为 *.tar.xz</span><br><span class="line">  注意：-z, -j, -J 不可以同时出现在一串命令行中</span><br></pre></td></tr></table></figure>

<h2 id="7-2-打包文件或目录"><a href="#7-2-打包文件或目录" class="headerlink" title="7.2. 打包文件或目录"></a>7.2. 打包文件或目录</h2><ul>
<li><p>将当前目录下的  anaconda-ks.cfg 文件打包成 A.tar</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf A.tar anaconda-ks.cfg </span><br></pre></td></tr></table></figure>
</li>
<li><p>打包多个文件或目录，中间需要用空格分开</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf B.tar anaconda-ks.cfg /tmp/</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="7-3-解压文件"><a href="#7-3-解压文件" class="headerlink" title="7.3. 解压文件"></a>7.3. 解压文件</h2><p>只对文件或目录进行打包，没有进行压缩，其通用格式为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf 解压的文件 -C 文件解压后的路径</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：若后面不跟 <code>-C 文件解压后的路径</code> ，则会默认将压缩包解压到到当前路径下。</p>
<p>例如： 将<code> test.tar</code> 打包的文件解包到 <code>/tmp </code>路径下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf test.tar -C /tmp</span><br></pre></td></tr></table></figure>

<h2 id="7-4-打包并压缩"><a href="#7-4-打包并压缩" class="headerlink" title="7.4. 打包并压缩"></a>7.4. 打包并压缩</h2><ul>
<li><p>打包压缩所有文件</p>
<p><code>tar -zcvf 自己创建的文件名(xxx.tar.gz)  要打包压缩的路径(/etc/)</code>: 这样压缩的文件连要压缩文件的目录也一起给压缩了。</p>
</li>
<li><p>打包压缩所有文件不包含打包文件的路径</p>
<p><code>tar -zcvf tmp4.tar.gz -C etc/ .</code>    将etc下所有文件打包为tmp4.tar.gz 不包含etc包的路径。</p>
</li>
<li><p>打包并压缩一个目录，但不含该目录下的某些文件</p>
<p>  <code>tar -zcvf bb.tar.gz --exclude=etc/apt etc</code>   将etc目录下除去apt文件的所有文件打包压缩为 bb.tar.gz，打包压缩时包含etc的路径。</p>
<ol>
<li> 一定要注意排除目录的最后不要带 <code>/</code>，否则 <code>exclude</code> 目录将不起作用</li>
<li> 压缩目录和排除目录都需要采用同样的格式，如都采用绝对路径或者相对路径</li>
</ol>
</li>
</ul>
<p> </p>
<h2 id="7-5-解压缩包"><a href="#7-5-解压缩包" class="headerlink" title="7.5. 解压缩包"></a>7.5. 解压缩包</h2><p>对打包并压缩后的文件进行解压。例如：将 <code>hello.tar.gz</code> 压缩文件解压到<code>~/Exercise_Linux/tmp</code>目录下。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf hello.tar.gz -C ~/Exercise_Linux/tmp</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：</p>
<ul>
<li><p>指定解压的目录必须要首先存在，否则会出错，tar 命令不会自动创建不存在的文件夹。</p>
</li>
<li><p>不加 <code>-C ~/Exercise_Linux/tmp</code>，表示只是解压到当前目录下。</p>
</li>
</ul>
<h2 id="7-6-zcat-zless"><a href="#7-6-zcat-zless" class="headerlink" title="7.6. zcat zless"></a>7.6. zcat zless</h2><p>zcat、zless 命令直接查看压缩文件中的内容。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ zcat test.gz</span><br><span class="line">hello word</span><br><span class="line"></span><br><span class="line">$ zless test.gz</span><br><span class="line">hello word</span><br></pre></td></tr></table></figure>

<h2 id="7-7-zip"><a href="#7-7-zip" class="headerlink" title="7.7. zip"></a>7.7. zip</h2><p>zip 是压缩指令，unzip 是解压指令。zip 指令既可以压缩文件，也可以压缩目录。压缩会自动保留源文件，解压会自动保留压缩文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 将demo.txt文件和目录mydir压缩成压缩文件yasuo.zip，选项-r表示递归</span><br><span class="line">zip -r yasuo.zip demo.txt mydir  </span><br><span class="line"></span><br><span class="line">// 压缩当前目录下的子目录mydir</span><br><span class="line">zip -r  mydir.zip  mydir         </span><br><span class="line"></span><br><span class="line">// 解压yasuo.zip文件到当前目录</span><br><span class="line">unzip   yasuo.zip                </span><br><span class="line"></span><br><span class="line">// 把压缩文件解压到指定的mydir目录</span><br><span class="line">unzip -d /mydir yasuo.zip        </span><br><span class="line"></span><br><span class="line">// 检查压缩文件是否损坏</span><br><span class="line">unzip -t  yasuo.zip              </span><br><span class="line"></span><br><span class="line">// 显示demo.zip压缩包中有哪些文件，不进行解压</span><br><span class="line">unzip  -l  demo.zip              </span><br><span class="line"></span><br><span class="line">// 解压时不覆盖已存在的文件</span><br><span class="line">unzip  -n  demo.zip              </span><br></pre></td></tr></table></figure>

<p><font color=red>注意：直接使用 unzip 指令（不带选项）解压文件时，如果解压文件中包含有文件与当前目录下的某个文件重名，那么会询问是否要覆盖这个文件。</font></p>
<h1 id="8-link"><a href="#8-link" class="headerlink" title="8. link"></a>8. link</h1><p>Linux 下用 <code>ln</code> 来执行链接。<code>ln</code> 后面不加 <code>-s</code> 参数表示进行硬链接操作，加参数表示软连接操作。</p>
<h2 id="8-1-hard-links"><a href="#8-1-hard-links" class="headerlink" title="8.1. hard links"></a>8.1. hard links</h2><p>硬链接: 指向磁盘中文件的节点（node），只有文件才能创建硬链接，目录不能创建。</p>
<p>硬链接会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言是同一个文件。引用硬链接文件等同于引用了源文件。要创建硬链接，原始文件也必须事先存在，只不过这次使用<code>ln</code>命令时不再需要加入额外的参数了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 建立硬链接</span><br><span class="line"><span class="built_in">ln</span> 原文件 新文件 </span><br></pre></td></tr></table></figure>

<h2 id="8-2-symbolic-links"><a href="#8-2-symbolic-links" class="headerlink" title="8.2. symbolic links"></a>8.2. symbolic links</h2><p>符号链接就是一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件。这两个通过符号链接在一起的文件，彼此的内容并不相同。</p>
<p>要为一个文件创建符号链接，原始文件必须事先存在。然后可以使用 <code>ln</code> 命令以及 <code>-s</code>选项来创建符号链接。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 建立软连接</span><br><span class="line"><span class="built_in">ln</span> -s <span class="built_in">source</span>  destination </span><br></pre></td></tr></table></figure>

<h1 id="9-pipe"><a href="#9-pipe" class="headerlink" title="9. pipe"></a>9. pipe</h1><p>pipe 中文翻译过来是管道的意思，用 <code>|</code> 表示。</p>
<p>定义：将一个命令的输出传送给另一个命令，作为另一个命令的输入，常用 <code>|</code> 表示。管道常与grep命令组合使用：<code>grep 命令1|命令2|命令3|·····|命令n</code></p>
<p>&amp; 和 &amp;&amp;  | 和 || 四者区别</p>
<ul>
<li><code>&amp; </code>: 表示将当前任务放在后台执行，如要在后台运行 redis-server，则有  redis-server &amp;</li>
<li><code>&amp;&amp;</code>: 表示前一条命令执行成功时，才执行后一条命令，如 echo ‘hello‘ &amp;&amp; echo ‘world’    </li>
<li><code>| </code>: 表示管道，上一条命令的输出，作为下一条命令参数，如 echo ‘hello’ | wc -l</li>
<li><code>||</code>: 表示上一条命令执行失败后，才执行下一条命令，如 cat nofile || echo “failed”</li>
</ul>
<h1 id="10-tee"><a href="#10-tee" class="headerlink" title="10. tee"></a>10. tee</h1><p>man手册英文原意：<code>tee - read from standard input and write to standard output and files</code></p>
<ul>
<li>功能：从标准输入读数据，写到标准输出和文件中。</li>
<li>用法：<code>echo hello | tee file</code> 将 hello 字符写到file文件中并显示在标准输出上。</li>
</ul>
<h1 id="11-wc"><a href="#11-wc" class="headerlink" title="11. wc"></a>11. wc</h1><p>作用：print newline, word, and byte counts for each file. (用来统计一个文件或者指定的多个文件中的行数，单词数和字符数)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">格式</span><br><span class="line">  <span class="built_in">wc</span> [OPTION]... [FILE]...</span><br><span class="line"></span><br><span class="line">选项参数</span><br><span class="line">  -c --bytes 打印字节数</span><br><span class="line">  -l --lines 打印行数</span><br><span class="line">  -w --words 打印单词数</span><br><span class="line">  -m --chars 打印字符数</span><br><span class="line">  -L --max-line-length 打印最长行的长度</span><br></pre></td></tr></table></figure>

<h1 id="12-ps"><a href="#12-ps" class="headerlink" title="12. ps"></a>12. ps</h1><p>ps 是进程状态（process status）的缩写，用于查看 Linux 系统中进程的状态情况。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">~$ ps aux</span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root          1  0.0  0.3 128324  6960 ?        Ss   13:58   0:02 /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br><span class="line">root          2  0.0  0.0      0     0 ?        S    13:58   0:00 [kthreadd]</span><br><span class="line">root          4  0.0  0.0      0     0 ?        S&lt;   13:58   0:00 [kworker/0:0H]</span><br><span class="line">root          5  0.0  0.0      0     0 ?        S    13:58   0:00 [kworker/u256:0]</span><br><span class="line">root          6  0.0  0.0      0     0 ?        S    13:58   0:00 [ksoftirqd/0]</span><br><span class="line">root          7  0.0  0.0      0     0 ?        S    13:58   0:01 [migration/0]</span><br><span class="line">root          8  0.0  0.0      0     0 ?        S    13:58   0:00 [rcu_bh]</span><br><span class="line">root          9  0.0  0.0      0     0 ?        S    13:58   0:25 [rcu_sched]</span><br></pre></td></tr></table></figure>

<p>显示格式参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">USER：用户名</span><br><span class="line">%CPU：该进程用掉的CPU百分比</span><br><span class="line">%MEM：进程占用内存的百分比</span><br><span class="line">VSZ：该进程使用的虚拟內存量（KB）</span><br><span class="line">RSS：该进程占用的固定內存量（KB）（驻留中页的数量）</span><br><span class="line">TTY：表示该进程在那个终端上运行，若与终端无关，则显示? 若为pts/n，则表示由网络连接进入主机的进程，tty1-tty6 表示是本机上面的登录进程。</span><br><span class="line">STAT：进程当前的状态</span><br><span class="line">    D(uninterruptible <span class="built_in">sleep</span>) 不可中断的休眠状态（通常 IO 相关的进程）</span><br><span class="line">    I(idle)                  空闲的内核线程      </span><br><span class="line">    R(running or runnable)   在运行队列中进程状态未：正在运行态或可运行状态</span><br><span class="line">    S(大写：<span class="built_in">sleep</span>)            可中断睡眠状态（等待一个事件完成）</span><br><span class="line">    T(stopped)               停止状态（stopped by job control signal）</span><br><span class="line">    t                        调试追踪过程中被停止的状态（stopped by debugger during the tracing）</span><br><span class="line">    W（paging）               进入内存交换 （从内核2.6开始无效）</span><br><span class="line">    X(dead)                  死掉的进程 （基本很少看见）</span><br><span class="line">    Z(zombie)                僵尸状态，进程已被终止，但无法被删除</span><br><span class="line">    &lt;                        高优先级进程（not <span class="built_in">nice</span> to other <span class="built_in">users</span>）</span><br><span class="line">    N                        低优先级的进程（<span class="built_in">nice</span> to other <span class="built_in">users</span>）</span><br><span class="line">    L                        页被锁进内存</span><br><span class="line">    s                        该进程含有子进程</span><br><span class="line">    l                        多线程，克隆线程（使用 CLONE_THREAD, 类似 NPTL pthreads）</span><br><span class="line">    +                        位于前台的进程组（foreground process group）</span><br><span class="line"></span><br><span class="line">START：该进程被触发启动的时间</span><br><span class="line">TIME：该进程实际使用CPU运行的时间</span><br><span class="line">CMD(<span class="built_in">command</span>)：执行此进程触发的命令是什么</span><br><span class="line">UID：用户ID、但输出的是用户名</span><br><span class="line">PID：进程的ID</span><br><span class="line">PPID：父进程ID</span><br><span class="line">C：CPU使用率，单位为百分比</span><br><span class="line">STIME：进程启动到现在的时间</span><br><span class="line">PRI(priority)：进程被CPU执行的优先级，数值越小，代表该进程被CPU执行的越快。这个值由内核动态调整，用户无法直接调整PRI的值。</span><br><span class="line">NI(<span class="built_in">nice</span>)：调整进程的优先级。</span><br><span class="line">    <span class="built_in">nice</span>值的可调整的范围在 -20~19 之间。</span><br><span class="line">    root用户可以随意调整自己或其它用户进程的 <span class="built_in">nice</span>值，且范围范围在 -20~19 之间。</span><br><span class="line">    一般用户只能调整自己进程的<span class="built_in">nice</span>值，范围仅为 0-19，避免一般用户去抢占系统的资源。</span><br><span class="line">    PRI与NI之间的关系：PRI(new) = PRI(old) + <span class="built_in">nice</span></span><br><span class="line">    <span class="built_in">nice</span>值有正负，当<span class="built_in">nice</span>值为负数时，那么该进程会降低PRI的值，会变得较优先处理。</span><br><span class="line">    如何调整<span class="built_in">nice</span>值？</span><br><span class="line">      1. 进程刚开始时就给指定一个特定的<span class="built_in">nice</span>值。<span class="built_in">nice</span> -n -5 vim &amp; 启动vim时，给定一个<span class="built_in">nice</span>值，并将vim放在后台执行。</span><br><span class="line">      2. 调整已存在的进程的<span class="built_in">nice</span>值，需要用 renice 命令：renice 4 2366 将PID=2366 进程的<span class="built_in">nice</span>值调整为4</span><br><span class="line"></span><br><span class="line">ADDR：是内核函数，指出该进程在内存中的哪个部分；如果是个running的进程，一般用 - 表示</span><br><span class="line">SZ：此进程用掉多少内存</span><br><span class="line">WCHAN：目前进程是否在运行，如果为 -，则表示正在运行。</span><br></pre></td></tr></table></figure>

<p>常见参数命令组合</p>
<ul>
<li><code>ps –ef|grep 程序名称</code>：查看一个程序是否运行 </li>
<li><code>ps -Lf 端口号|wc -l </code>：查看线程个数  </li>
<li><code>ps -l</code>：查看当前用户的 bash 进程</li>
<li><code>ps aux</code>：查看系统运行的所有进程，默认按照 PID 的顺序排序。</li>
<li><code>ps axjf</code>：查看系统运行的所有进程，并带有 PPID 项</li>
</ul>
<p>查看某个进程已运行的时间</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">john@ubuntu:~$ ps -p 3578 -o lstart,etime</span><br><span class="line">               STARTED     ELAPSED</span><br><span class="line">Thu Jun 10 08:33:04 2021       33:48</span><br></pre></td></tr></table></figure>

<p>另外一种方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@ubuntu ~]# ps -eo pid,lstart,etime,cmd | grep cgi</span><br><span class="line">86592 Sun Aug 14 04:09:18 2022       00:34 ./spawn-fcgi -a 0.0.0.0 -p 9000 -C 25 -f ./cxxfcgi -F 1</span><br><span class="line">86593 Sun Aug 14 04:09:18 2022       00:34 ./cxxfcgi 1</span><br><span class="line">86923 Sun Aug 14 04:09:52 2022       00:00 grep --color=auto cgi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参数解释：</span><br><span class="line">-o: 格式化输出，用户自定义要输出的格式</span><br><span class="line">-e: 等用于all，表示选择所有的时间</span><br><span class="line">etime: 进程从启动开始到现在运行的时间，格式为：[[DD-]hh:]mm:ss</span><br><span class="line">lstart: 命令启动时的时间</span><br></pre></td></tr></table></figure>



<h1 id="13-killall-与-pkill"><a href="#13-killall-与-pkill" class="headerlink" title="13. killall 与 pkill"></a>13. killall 与 pkill</h1><p>根据进程的名称去杀死进程，而不需要知道进程的 ID 号。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">killall bash</span><br><span class="line"></span><br><span class="line">pkill bash</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/abclife/p/7380397.html">Linux批量kill进程 - abce - 博客园</a></p>
<h1 id="14-nohup"><a href="#14-nohup" class="headerlink" title="14. nohup"></a>14. nohup</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> 命令让程序在后台执行，一般常与 &amp; 符号结合使用。</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  <span class="built_in">nohup</span> ping www.baidu.com    让执行 ping 命令的进程在后台运行。</span><br></pre></td></tr></table></figure>

<h1 id="15-pstree"><a href="#15-pstree" class="headerlink" title="15. pstree"></a>15. pstree</h1><p><code>pstree</code> 命令是用于查看正在运行的进程之间的关系，用树形图显示，即哪个进程是父进程，哪个是子进程，可以清楚的看出来是谁创建了谁，同时还可以查看一个进程下有多少个子线程。</p>
<p>注：Linux 系统中内核调用的第一个进程为 <code>systemd</code>，该进程的 PID 为 <code>1</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">几个重要的参数：</span><br><span class="line">-A 各进程树之间的连接以ASCII码字符来连接</span><br><span class="line">-U 各进程树之间的连接以utf8字符来连接，某些终端可能会有错误</span><br><span class="line">-p 同时列出每个进程的PID</span><br><span class="line">-u 同时列出每个进程的所属账号名称</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ pstree</span><br><span class="line">init─┬─NetworkManager</span><br><span class="line">     ├─abrtd</span><br><span class="line">     ├─acpid</span><br><span class="line">     ├─atd</span><br><span class="line">     ├─automount───4*[&#123;automount&#125;]</span><br><span class="line">     ├─certmonger</span><br><span class="line">     ├─crond</span><br><span class="line">     ├─cupsd</span><br><span class="line">     ├─dbus-daemon</span><br><span class="line">     ├─hald───hald-runner─┬─hald-addon-acpi</span><br><span class="line">     │                    └─hald-addon-inpu</span><br><span class="line">     ├─irqbalance</span><br><span class="line">     ├─master─┬─bounce</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 一个进程下有多个子线程，花括号&#123;&#125; 中的内容表示线程，</span><br><span class="line">// 圆括号() 中的内容表示线程ID或进程ID</span><br><span class="line">pstree -p 15821</span><br><span class="line">a.out(15821)─┬─&#123;a.out&#125;(15835)</span><br><span class="line">             ├─&#123;a.out&#125;(15836)</span><br><span class="line">             ├─&#123;a.out&#125;(15837)</span><br><span class="line">             ├─&#123;a.out&#125;(15838)</span><br><span class="line">             ├─&#123;a.out&#125;(15839)</span><br><span class="line">             ├─&#123;a.out&#125;(15840)</span><br><span class="line">             ├─&#123;a.out&#125;(15841)</span><br><span class="line">             ├─&#123;a.out&#125;(15843)</span><br><span class="line">             ├─&#123;a.out&#125;(15844)</span><br></pre></td></tr></table></figure>

<h1 id="16-ltrace"><a href="#16-ltrace" class="headerlink" title="16. ltrace"></a>16. ltrace</h1><p>跟踪进程调用库函数的信息，显示调用哪些库函数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">  ltrace [option ...] [<span class="built_in">command</span> [arg ...]]</span><br><span class="line"></span><br><span class="line">选项参数</span><br><span class="line">-a 对齐具体某个列的返回值。</span><br><span class="line">-c 计算时间和调用，并在程序退出时打印摘要。</span><br><span class="line">-C 解码低级别名称（内核级）为用户级名称。</span><br><span class="line">-d 打印调试信息。</span><br><span class="line">-e 改变跟踪的事件。</span><br><span class="line">-f 跟踪子进程。</span><br><span class="line">-h 打印帮助信息。</span><br><span class="line">-i 打印指令指针，当库调用时。</span><br><span class="line">-l 只打印某个库中的调用。</span><br><span class="line">-L 不打印库调用。</span><br><span class="line">-n, --indent=NR 对每个调用级别嵌套以NR个空格进行缩进输出。</span><br><span class="line">-o, --output=file 把输出定向到文件。</span><br><span class="line">-p PID 附着在值为PID的进程号上进行ltrace。</span><br><span class="line">-r 打印相对时间戳。</span><br><span class="line">-s STRLEN 设置打印的字符串最大长度。</span><br><span class="line">-S 显示系统调用。</span><br><span class="line">-t, -tt, -ttt 打印绝对时间戳。</span><br><span class="line">-T 输出每个调用过程的时间开销。</span><br><span class="line">-u USERNAME 使用某个用户<span class="built_in">id</span>或组ID来运行命令。</span><br><span class="line">-V, --version 打印版本信息，然后退出。</span><br><span class="line"></span><br><span class="line">示例</span><br><span class="line">  ltrace -p pid</span><br></pre></td></tr></table></figure>

<p>示例1：执行程序不带任何参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ ltrace ./a.out</span><br><span class="line">(0, 0, 176780, -1, 0x7f080f441990)                                                            = 0x304c2221e0</span><br><span class="line">__libc_start_main(0x400898, 1, 0x7fff96a76768, 0x400920, 0x400990 &lt;unfinished ...&gt;</span><br><span class="line">_ZNSt8ios_base4InitC1Ev(0x600ee0, 65535, 0x7fff96a76778, 64, 0x304c7bbea0)                    = 0</span><br><span class="line">__cxa_atexit(0x400704, 0x600ee0, 0x600d98, 6, 0x305a3105e0)                                   = 0</span><br><span class="line">_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(0x600dc0, 0x4009ec, 0x7fff96a76778, 96, 0x304c7bbea0) = 0x600dc0</span><br><span class="line">_ZNSolsEPFRSoS_E(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30 &lt;unfinished ...&gt;</span><br><span class="line">_ZSt4endlIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30hello</span><br><span class="line"> &lt;unfinished ...&gt;</span><br><span class="line">&lt;... _ZNSolsEPFRSoS_E resumed&gt; )                                                              = 0x600dc0</span><br><span class="line">_ZNSt8ios_base4InitD1Ev(0x600ee0, 0, 160, 0x304c7bbf30, 4)                                    = 0x305a30f240</span><br><span class="line">+++ exited (status 0) +++</span><br></pre></td></tr></table></figure>

<p>示例2：输出调用时间开销</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ ltrace -T ./a.out</span><br><span class="line">(0, 0, 106015, -1, 0x7f3655ca9990)                                                            = 0x304c2221e0 &lt;0.000129&gt;</span><br><span class="line">__libc_start_main(0x400898, 1, 0x7fff2085dd98, 0x400920, 0x400990 &lt;unfinished ...&gt;</span><br><span class="line">_ZNSt8ios_base4InitC1Ev(0x600ee0, 65535, 0x7fff2085dda8, 64, 0x304c7bbea0)                    = 0 &lt;0.000215&gt;</span><br><span class="line">__cxa_atexit(0x400704, 0x600ee0, 0x600d98, 6, 0x305a3105e0)                                   = 0 &lt;0.000110&gt;</span><br><span class="line">_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(0x600dc0, 0x4009ec, 0x7fff2085dda8, 96, 0x304c7bbea0) = 0x600dc0 &lt;0.000221&gt;</span><br><span class="line">_ZNSolsEPFRSoS_E(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30 &lt;unfinished ...&gt;</span><br><span class="line">_ZSt4endlIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30hello</span><br><span class="line"> &lt;unfinished ...&gt;</span><br><span class="line">&lt;... _ZNSolsEPFRSoS_E resumed&gt; )                                                              = 0x600dc0 &lt;0.000302&gt;</span><br><span class="line">_ZNSt8ios_base4InitD1Ev(0x600ee0, 0, 160, 0x304c7bbf30, 4)                                    = 0x305a30f240 &lt;0.000141&gt;</span><br><span class="line">+++ exited (status 0) +++</span><br></pre></td></tr></table></figure>

<p>示例3：显示系统调用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ ltrace -S ./a.out</span><br><span class="line">SYS_brk(NULL)                                                                                 = 0x23f8000</span><br><span class="line">SYS_mmap(0, 4096, 3, 34, 0xffffffff)                                                          = 0x7f16eaa25000</span><br><span class="line">SYS_access(0x304c01dac0, 4, 6, 4, 0x2f7362694c2f564f)                                         = -2</span><br><span class="line">SYS_open(<span class="string">&quot;tls/x86_64/libstdc++.so.6&quot;</span>, 524288, 011410421010)                                   = -2</span><br><span class="line">SYS_open(<span class="string">&quot;tls/libstdc++.so.6&quot;</span>, 524288, 011410421010)                                          = -2</span><br><span class="line">SYS_open(<span class="string">&quot;x86_64/libstdc++.so.6&quot;</span>, 524288, 011410421010)                                       = -2</span><br><span class="line">SYS_open(<span class="string">&quot;libstdc++.so.6&quot;</span>, 524288, 011410421010)                                              = -2   </span><br><span class="line">...........</span><br><span class="line">SYS_munmap(0x7f16eaa16000, 59833)                                                             = 0</span><br><span class="line">__libc_start_main(0x400898, 1, 0x7fff976dc088, 0x400920, 0x400990 &lt;unfinished ...&gt;</span><br><span class="line">_ZNSt8ios_base4InitC1Ev(0x600ee0, 65535, 0x7fff976dc098, 64, 0x304c7bbea0)                    = 0</span><br><span class="line">__cxa_atexit(0x400704, 0x600ee0, 0x600d98, 6, 0x305a3105e0)                                   = 0</span><br><span class="line">_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(0x600dc0, 0x4009ec, 0x7fff976dc098, 96, 0x304c7bbea0 &lt;unfinished ...&gt;</span><br><span class="line">SYS_fstat(1, 0x7fff976dbdb0, 0x7fff976dbdb0, 0x7fff976dbcd0, 0x304c7bca30)                    = 0</span><br><span class="line">SYS_mmap(0, 4096, 3, 34, 0xffffffff)                                                          = 0x7f16eaa24000</span><br><span class="line">&lt;... _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc resumed&gt; )                       = 0x600dc0</span><br><span class="line">_ZNSolsEPFRSoS_E(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30 &lt;unfinished ...&gt;</span><br><span class="line">_ZSt4endlIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_(0x600dc0, 0x400734, 0x305a2f75d8, 1024, 0x304c7bca30 &lt;unfinished ...&gt;</span><br><span class="line">SYS_write(1, <span class="string">&quot;hello\n&quot;</span>, 6hello</span><br><span class="line">)                                                                    = 6</span><br><span class="line">&lt;... _ZNSolsEPFRSoS_E resumed&gt; )                                                              = 0x600dc0</span><br><span class="line">_ZNSt8ios_base4InitD1Ev(0x600ee0, 0, 160, 0x304c7bbf30, 4)                                    = 0x305a30f240</span><br><span class="line">SYS_exit_group(0 &lt;no <span class="built_in">return</span> ...&gt;</span><br><span class="line">+++ exited (status 0) +++</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/machangwei-8/p/10388938.html">ltrace命令详解 </a></p>
<h1 id="17-strace"><a href="#17-strace" class="headerlink" title="17. strace"></a>17. strace</h1><p><strong>为什么要用 strace?</strong></p>
<p>看到一个进程调用了哪些API以及其调用顺序，例如我们要参考某个程序的实现，但我们又无法获得该程序的源代码时，使用系统调用跟踪命令不失为一个好办法。另外，在一些无法调试的环境上检查问题时，我们也可以用该命令来查看程序是否按预期执行。strace和dtruss都是同一类型的命令，strace是linux系统上的，而dtruss是mac系统上的。</p>
<p><strong>strace 作用</strong></p>
<p>strace 跟踪一个进程的系统调用或信号产生的信息。（strace  - trace system calls and signals）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">参数项</span><br><span class="line"></span><br><span class="line">-c 统计每一系统调用的所执行的时间，次数和出错的次数等。 </span><br><span class="line">-d 输出strace关于标准错误的调试信息。 </span><br><span class="line">-f 跟踪由fork调用所产生的子进程。 </span><br><span class="line">-ff 如果提供-o filename，则所有进程的跟踪结果输出到相应的filename </span><br><span class="line">-F 尝试跟踪vfork调用。在-f时，vfork不被跟踪。 </span><br><span class="line">-h 输出简要的帮助信息。 </span><br><span class="line">-i 输出系统调用的入口指针。 </span><br><span class="line">-q 禁止输出关于脱离的消息。 </span><br><span class="line">-r 打印出相对时间关于，每一个系统调用。 </span><br><span class="line">-t 在输出中的每一行前加上时间信息。 </span><br><span class="line">-tt 在输出中的每一行前加上时间信息，微秒级。 </span><br><span class="line">-ttt 微秒级输出，以秒了表示时间。 </span><br><span class="line">-T 显示每一调用所耗的时间。 </span><br><span class="line">-v 输出所有的系统调用。一些调用关于环境变量，状态，输入输出等调用由于使用频繁，默认不输出。 </span><br><span class="line">-V 输出strace的版本信息。 </span><br><span class="line">-x 以十六进制形式输出非标准字符串 </span><br><span class="line">-xx 所有字符串以十六进制形式输出。 </span><br><span class="line">-a column 设置返回值的输出位置。默认 为40。 </span><br><span class="line"></span><br><span class="line">-e <span class="built_in">expr</span>  指定一个表达式，用来控制如何跟踪。格式如下: </span><br><span class="line">    [qualifier=][!]value1[，value2]。。。 </span><br><span class="line">    qualifier只能是 trace，abbrev，verbose，raw，signal，<span class="built_in">read</span>，write其中之一。</span><br><span class="line">    value是用来限定的符号或数字。默认的 qualifier是 trace。感叹号是否定符号。</span><br><span class="line">    例如: -eopen等价于 -e trace=open，表示只跟踪open调用。</span><br><span class="line">    而-etrace!=open表示跟踪除了open以外的其他调用。有两个特殊的符号 all 和 none。 </span><br><span class="line"></span><br><span class="line">-e trace=<span class="built_in">set</span> 只跟踪指定的系统 调用。</span><br><span class="line">             例如:-e trace=open，close，rean，write表示只跟踪这四个系统调用。默认的为<span class="built_in">set</span>=all。</span><br><span class="line"></span><br><span class="line">-e trace=file 只跟踪有关文件操作的系统调用。 </span><br><span class="line"></span><br><span class="line">-e trace=process 只跟踪有关进程控制的系统调用。 </span><br><span class="line"></span><br><span class="line">-e trace=network 跟踪与网络有关的所有系统调用。</span><br><span class="line"></span><br><span class="line">-e strace=signal 跟踪所有与系统信号有关的 系统调用 </span><br><span class="line"></span><br><span class="line">-e trace=ipc 跟踪所有与进程通讯有关的系统调用 </span><br><span class="line"></span><br><span class="line">-e abbrev=<span class="built_in">set</span> 设定 strace输出的系统调用的结果集</span><br><span class="line"></span><br><span class="line">-e raw=<span class="built_in">set</span> 将指定的系统调用的参数以十六进制显示。 </span><br><span class="line"></span><br><span class="line">-e signal=<span class="built_in">set</span> 指定跟踪的系统信号。默认为all。</span><br><span class="line">              如 signal=!SIGIO(或者signal=!io)，表示不跟踪SIGIO信号。 </span><br><span class="line"></span><br><span class="line">-e <span class="built_in">read</span>=<span class="built_in">set</span>  输出从指定文件中读出 的数据。例如: </span><br><span class="line"></span><br><span class="line">-e <span class="built_in">read</span>=3，5 </span><br><span class="line"></span><br><span class="line">-e write=<span class="built_in">set</span> 输出写入到指定文件中的数据。 </span><br><span class="line"></span><br><span class="line">-o filename 将strace的输出写入文件filename </span><br><span class="line"></span><br><span class="line">-p pid 跟踪指定的进程pid。 </span><br><span class="line"></span><br><span class="line">-s strsize 指定输出的字符串的最大长度，默认为32。 </span><br><span class="line"></span><br><span class="line">-u username 以username 的UID和GID执行被跟踪的命令</span><br></pre></td></tr></table></figure>

<h1 id="18-pstack"><a href="#18-pstack" class="headerlink" title="18. pstack"></a>18. pstack</h1><p>pstack 打印正在运行的进程的堆栈信息。</p>
<h1 id="19-find"><a href="#19-find" class="headerlink" title="19. find"></a>19. find</h1><p>find 命令：在指定的目录中共去查找文件。 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">格式</span><br><span class="line">  find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression]</span><br><span class="line"></span><br><span class="line">选项参数</span><br><span class="line">-name：按照名字匹配搜索，搜索的内容要用引号括起来，单引号或双引号都可以，从而避免它受 shell 终端扩展的影响。</span><br><span class="line">    例子：按照文件查找 /usr/src 路径下后缀名为 .txt 所有文件</span><br><span class="line">    find /usr/src -name <span class="string">&quot;*.txt&quot;</span></span><br><span class="line"></span><br><span class="line">-<span class="built_in">type</span>：按照文件类型查找。</span><br><span class="line">       类型包括：f(file), d(directory), l(<span class="built_in">link</span>), c(char), d(device), s(socket), b(block)</span><br><span class="line">     例子：按照文件类型查找 /usr/src 路径下后缀名为 .txt 所有文件</span><br><span class="line">     find /usr/src -<span class="built_in">type</span> <span class="string">&quot;*.txt&quot;</span></span><br><span class="line"></span><br><span class="line">-size: 按照文件大小搜索，默认单位为512byte，一个扇区的大小</span><br><span class="line">    例子：find /usr/src -size +10M -size -20M 查找大于10M小于20M的文件</span><br><span class="line">    例子：find /usr/src -size +10k -size -20k</span><br><span class="line"></span><br><span class="line">-maxdepth: </span><br><span class="line">    例子：统计 /usr 目录下深度为2的所有目录文件 </span><br><span class="line">    find /usr -maxdepth 2 -<span class="built_in">type</span> d | <span class="built_in">wc</span> -l  </span><br><span class="line"></span><br><span class="line">    例子：查找 /usr 路径下深度为 2 除开类型为目录的所有文件</span><br><span class="line">    find /usr -maxdepth 2 ! -<span class="built_in">type</span> d </span><br><span class="line"></span><br><span class="line">-<span class="built_in">exec</span></span><br><span class="line">    例子： 列出当前目录下所有的 .sh 文件，并执行<span class="built_in">ls</span> -l 命令</span><br><span class="line">    find ./ -name <span class="string">&quot;*.sh&quot;</span> -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;  </span><br><span class="line"></span><br><span class="line">-<span class="built_in">print</span>: 将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有 ./ 字符串；</span><br><span class="line"></span><br><span class="line">-print0: 就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；</span><br><span class="line"></span><br><span class="line">-atime(access <span class="keyword">time</span>): 访问时间， +7 超过七天被访问的文件；-7 七天以内访问过的文件; 7 恰好在七天前被访问的文件（那个时间点）</span><br><span class="line">    例子；查找当前路径下恰好在七天前被访问的文件</span><br><span class="line">    find . atime -7 </span><br><span class="line"></span><br><span class="line">-amin: 访问时间（按照分钟）</span><br><span class="line"></span><br><span class="line">-mtime: 上次修改的时间（按照天数）</span><br><span class="line">    查找当前路径下 7 天以前的 ErrorLog 文件</span><br><span class="line">    find . -name <span class="string">&quot;ErrorLog*.log&quot;</span> -mtime +7</span><br><span class="line"></span><br><span class="line">    删除当前路径下超过 10 天被修改的文件</span><br><span class="line">    find . -name <span class="string">&quot;DataDeal*.log&quot;</span> -mtime +10 | xargs <span class="built_in">rm</span> -rf</span><br><span class="line"></span><br><span class="line">    另外一种写法</span><br><span class="line">    find . -name <span class="string">&quot;IOV-GBDataDeal*.log&quot;</span> -mtime +10 -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">-mmin(modified minute): 修改时间（按照分钟）</span><br><span class="line"></span><br><span class="line">-ctime(change <span class="keyword">time</span>): 最近文件的状态被改变的时间</span><br><span class="line"></span><br><span class="line">-cmin(change minute): 最近文件的状态被改变的时间（按照分钟）</span><br><span class="line"></span><br><span class="line">-prune: 忽略指定的文件查找</span><br><span class="line">   find . -path <span class="string">&quot;./test&quot;</span> -prune -o -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">print</span>  忽略 <span class="built_in">test</span> 文件夹去查找当前路径下以 txt 结尾的所有文件</span><br><span class="line"></span><br><span class="line">-ok 执行的命令：输出的结果确定是否要执行指定的命令</span><br><span class="line">    find .  -path <span class="string">&quot;./&quot;</span> -prune -o -name <span class="string">&quot;*.gz&quot;</span> -ok <span class="built_in">ls</span> -l &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">-iname</span><br><span class="line">    例子：查找当前路径下所有 .<span class="built_in">log</span> 文件中包含的 open files 字段</span><br><span class="line">      find . -iname <span class="string">&#x27;*.log&#x27;</span> | xargs grep <span class="string">&#x27;open files&#x27;</span></span><br><span class="line"></span><br><span class="line">    从根目录开始查找所有扩展名为 .<span class="built_in">log</span> 的文本文件，并找出包含 <span class="string">&quot;flower&quot;</span> 的行：</span><br><span class="line">    $ find / -<span class="built_in">type</span> f -name <span class="string">&quot;*.log&quot;</span> | xargs grep <span class="string">&quot;flower&quot;</span></span><br><span class="line"></span><br><span class="line">    从当前目录开始查找所有扩展名为 .ini 的文本文件，并找出包含 <span class="string">&quot;dog&quot;</span> 的行：    </span><br><span class="line">    find . -name <span class="string">&quot;*.ini&quot;</span> | xargs grep <span class="string">&quot;dog&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="20-xargs"><a href="#20-xargs" class="headerlink" title="20. xargs"></a>20. xargs</h1><p>xargs 又称管道命令。是给命令传递参数的一个过滤器，也是组合多个命令的一个工具，它把一个数据流分割成一些足够小的快，方便过滤器和命令进行处理。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">参数项</span><br><span class="line">  -d 指定一个特定的分隔符显示，默认分隔符为空格</span><br><span class="line">  -i 使用 &#123;&#125; 替代传递的参数</span><br><span class="line">  -n 限制单个命令行的参数个数</span><br><span class="line">  -t 显示详情</span><br><span class="line">  -p 交互模式</span><br><span class="line">  -0 --null，使用 null 分割，而不是空白，禁用引号和反斜杠处理</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line">  多行输入变单行</span><br><span class="line">    $ <span class="built_in">cat</span> a.txt</span><br><span class="line">    123</span><br><span class="line">    456</span><br><span class="line">    789</span><br><span class="line"></span><br><span class="line">    $ xargs &lt; a.txt</span><br><span class="line">    123 456 789</span><br><span class="line"></span><br><span class="line">  -n 参数的使用</span><br><span class="line">    $ <span class="built_in">cat</span> a.txt</span><br><span class="line">    123 111 222 333</span><br><span class="line">    456 444 555 666</span><br><span class="line">    789 777 888 999</span><br><span class="line"></span><br><span class="line">    $ xargs -n 2 &lt; a.txt</span><br><span class="line">    123 111</span><br><span class="line">    222 333</span><br><span class="line">    456 444</span><br><span class="line">    555 666</span><br><span class="line">    789 777</span><br><span class="line">    888 999</span><br><span class="line"></span><br><span class="line">  -d 参数使用</span><br><span class="line">    $  <span class="built_in">echo</span> <span class="string">&quot;helo,AI,DB,CJ,KK&quot;</span></span><br><span class="line">    helo,AI,DB,CJ,KK</span><br><span class="line"></span><br><span class="line">    $  <span class="built_in">echo</span> <span class="string">&quot;helo,AI,DB,CJ,KK&quot;</span> | xargs -d <span class="string">&quot;,&quot;</span></span><br><span class="line">    helo AI DB CJ KK</span><br><span class="line"></span><br><span class="line">    $  <span class="built_in">echo</span> <span class="string">&quot;helo,AI,DB,CJ,KK&quot;</span> | xargs -d <span class="string">&quot;,&quot;</span> -n 2</span><br><span class="line">    helo AI</span><br><span class="line">    DB CJ</span><br><span class="line">    KK</span><br><span class="line"></span><br><span class="line"> -i参数使用</span><br><span class="line">     将当前目录下深度为 1 的所有 .txt 文件移动到当前已存在的 temp 目录下；xargs -i 作为参数传递</span><br><span class="line">    $ find . -maxdepth 1 -name <span class="string">&quot;*.txt&quot;</span> | xargs -i <span class="built_in">mv</span> &#123;&#125; ./temp</span><br><span class="line">    $ <span class="built_in">ls</span> temp/</span><br><span class="line">    a.txt  b.txt</span><br><span class="line"></span><br><span class="line">  -I参数使用</span><br><span class="line">      将当前目录下所有为 .txt 的文件移出到上一级已存在的 txt 目录下</span><br><span class="line">    [root@CentOS7 temp]# find . -name <span class="string">&quot;*.txt&quot;</span> | xargs -I aa <span class="built_in">mv</span> aa ../txt</span><br><span class="line">    $ <span class="built_in">ls</span> txt/</span><br><span class="line">    a.txt  b.txt</span><br></pre></td></tr></table></figure>

<h1 id="21-grep"><a href="#21-grep" class="headerlink" title="21. grep"></a>21. grep</h1><p><code>grep(global search regular expression and print out the line)</code> 全面搜索正则表达式和打印输出行 </p>
<p>三种形式的 grep 命令</p>
<ul>
<li>gerp 是标准格式</li>
<li>egrep 是扩展grep命令，其实和grep -E等价，支持基本和扩展的正则表达式。</li>
<li>fgrep 是快速grep命令，其实和grep -F等价，不支持正则表达式，按照字符串表面意思进行匹配。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">用法</span><br><span class="line">  grep [OPTIONS] PATTERN [FILE...]</span><br><span class="line">  grep [OPTIONS] [-e PATTERN | -f FILE] [FILE...]</span><br><span class="line"></span><br><span class="line">OPTIONS: </span><br><span class="line">  通用程序信息（Generic Program Information）</span><br><span class="line">    --<span class="built_in">help</span> 输出帮助信息后退出</span><br><span class="line"></span><br><span class="line">    -V, --version </span><br><span class="line">           输出 grep 版本号后退出</span><br><span class="line"></span><br><span class="line">  模式语法（Pattern Syntax）</span><br><span class="line">    -E, --extended-regexp</span><br><span class="line">           匹配扩展正则表达式</span><br><span class="line"></span><br><span class="line">    -F, --fixed-strings</span><br><span class="line">          匹配固定字符串而非正则表达式</span><br><span class="line"></span><br><span class="line">     -G, --basic-regexp</span><br><span class="line">          匹配基本的正表达式，这个是默认选项</span><br><span class="line">          grep <span class="string">&#x27;[^0-6]&#x27;</span>  helo.txt</span><br><span class="line"></span><br><span class="line">    -P, --perl-regexp</span><br><span class="line">          匹配 perl 语法的正则表达式</span><br><span class="line"></span><br><span class="line">  匹配控制（Matching Control）</span><br><span class="line">      -i, --ignore-case</span><br><span class="line">            查找时忽略大小写：grep -i <span class="string">&quot;book&quot;</span></span><br><span class="line"></span><br><span class="line">    --no-ignore-case</span><br><span class="line">         匹配时不忽略大小写</span><br><span class="line"></span><br><span class="line">    -v, --invert-match</span><br><span class="line">         选择不包含所匹配文本的行</span><br><span class="line">     -w, --word-regexp</span><br><span class="line">          匹配整个单词</span><br><span class="line"></span><br><span class="line">    -x, --line-regexp</span><br><span class="line">          匹配整行</span><br><span class="line"></span><br><span class="line"> 通用输出控制</span><br><span class="line">   -c, --count</span><br><span class="line">         只输出匹配行的数量</span><br><span class="line"></span><br><span class="line">   -l, --files-with-matches</span><br><span class="line">         只列出符合匹配的文件名，不列出具体的匹配行  </span><br><span class="line"></span><br><span class="line">   -q, --quiet, --silent </span><br><span class="line">         退出：不写任何的东西到标准输入中。如果找到任何匹配项，立即退出，状态为零，即使检测到错误也是如此。</span><br><span class="line"></span><br><span class="line">  -s, --no-message </span><br><span class="line">        不显示不存在、没有匹配文本的错误信息  </span><br><span class="line"></span><br><span class="line">   -o, --only-matching     </span><br><span class="line">         与-b结合使用，打印匹配的词据文件头部的偏移量，以字节为单位</span><br><span class="line"></span><br><span class="line">输出行前缀控制（Output Line Prefix Control）</span><br><span class="line">  -b, --byte-offset</span><br><span class="line">        打在每行输出之前打印输入文件中从 0 开始的字节偏移量。</span><br><span class="line"></span><br><span class="line">  -h, --no-filename </span><br><span class="line">      查询多文件时不显示文件名      </span><br><span class="line"></span><br><span class="line">  -n, --line-number</span><br><span class="line">        列出所有的匹配行，显示行号</span><br><span class="line"></span><br><span class="line">文件和路径选择（File and Directory Selection）</span><br><span class="line">    -a, --text</span><br><span class="line">          将处理的二进制文件当作文本文件，等同于 --binary-files=text 操作</span><br><span class="line">          例子： 搜索压缩文件中的 open files 关键字</span><br><span class="line">          $ zcat Server_log/20220118.tar.gz  | grep -a <span class="string">&quot;open files&quot;</span></span><br><span class="line"></span><br><span class="line">    -r, --recursive </span><br><span class="line">    递归搜索</span><br><span class="line">      例子： 搜索 /usr/src/ 路径下包含 task_struct &#123; 的字符，并显示字符所在的行号</span><br><span class="line">      grep -r  <span class="string">&quot;task_struct &#123;&quot;</span> /usr/src/  -n </span><br></pre></td></tr></table></figure>

<p>查询生产环境下以压缩归档的日志，在不用解压文件的前提下直接进行查询日志，其中压缩的文件格式为 <code>.gz</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@John]# zgrep -ia <span class="string">&quot;ReportDBTable&quot;</span> ./Server_log/20220411.tar.gz</span><br><span class="line">[20220411_204121_750][I]received update config[t_config.ReportDBTable]: old(), new(1)[TID:4661]</span><br><span class="line">[20220411_204214_321][I]Get ReportDBTable value: 1[TID:3143]</span><br></pre></td></tr></table></figure>

<h1 id="22-pgrep"><a href="#22-pgrep" class="headerlink" title="22. pgrep"></a>22. pgrep</h1><p>根据进程的名称查找并返回进程的 ID 号到标准输出。与 pidof 功能一样。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pgrep -l program_name  只显示某个进程的PID</span><br><span class="line">pidof program_name  找出某个正在执行的进程的PID</span><br><span class="line"></span><br><span class="line">pgrep bash</span><br><span class="line">3528</span><br><span class="line"></span><br><span class="line">pidof bash </span><br><span class="line">3528</span><br></pre></td></tr></table></figure>

<h1 id="23-PID"><a href="#23-PID" class="headerlink" title="23. PID"></a>23. PID</h1><ul>
<li><code>ps aux | grep xxx(程序名称)</code>  显示某个进程的全部信息，包括PID</li>
<li><code>ps ajx</code> 显示进程组ID</li>
<li><code>ulimit -a</code> 查看资源的上限大小</li>
</ul>
<h1 id="24-dd"><a href="#24-dd" class="headerlink" title="24. dd"></a>24. dd</h1><p><code>dd</code> 命令根据指定的操作（OPERAND）去转换（convert）和拷贝（copy）一个文件，同时还能打印拷贝的速度。</p>
<p>用法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> [OPERAND]...</span><br><span class="line"><span class="built_in">dd</span> OPTION</span><br></pre></td></tr></table></figure>



<h1 id="25-ss"><a href="#25-ss" class="headerlink" title="25. ss"></a>25. ss</h1><p>ss 是用于调查套接字的另一个实用程序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ss 检查端口： </span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  ss -tunlp</span><br></pre></td></tr></table></figure>

<h1 id="26-lsof"><a href="#26-lsof" class="headerlink" title="26. lsof"></a>26. lsof</h1><p>lsof(list open files) 列出整个 Linux 系统打开的所有文件描述符。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">参数</span><br><span class="line">  -p：指定进程ID（ PID）。</span><br><span class="line">  -d：允许指定要显示的文件描述符编号。</span><br><span class="line"></span><br><span class="line">   参看文件描述符为 1 的进程</span><br><span class="line">   [root@KF-CFT-AP2 ~]# lsof -d 1</span><br><span class="line">   COMMAND     PID      USER   FD   TYPE             DEVICE SIZE/OFF     NODE NAME</span><br><span class="line">   init          1      root    1u   CHR                1,3      0t0     3842 /dev/null</span><br><span class="line">   udevd       557      root    1u   CHR                1,3      0t0     3842 /dev/null</span><br><span class="line"></span><br><span class="line">  -i:端口号  查看指定端口占用情况</span><br><span class="line">     查看 47462 端口的占用情况</span><br><span class="line">  [root@KF]# lsof -i:47462</span><br><span class="line">  COMMAND     PID USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME</span><br><span class="line">  L2BU-Boot 27283 root   19u  IPv4 82427778      0t0  TCP 172.26.153.222:47462-&gt;172.26.153.227:12243 (ESTABLISHED)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  lsof -nP -iTCP -sTCP:LISTEN 获取所有侦听 TCP 端口的列表 </span><br></pre></td></tr></table></figure>

<p>lsof 命令输出各列信息的意义如下：</p>
<ul>
<li><code>COMMAND</code>：进程的名称</li>
<li><code>PID</code>：进程标识符</li>
<li><code>USER</code>：进程所有者</li>
<li><code>FD</code>：文件描述符类型</li>
<li><code>TYPE</code>：文件类型</li>
<li><code>DEVICE</code>：指定磁盘的名称</li>
<li><code>SIZE/OFF</code>：文件的大小</li>
<li><code>NODE</code>：文件在磁盘上的标识，索引节点</li>
<li><code>NAME</code>：打开文件的确切名称</li>
</ul>
<blockquote>
<p>Tips：查看 xxx 端口的占用情况，有两种方式。第一采用 <code>lsof -i:xxx</code> 查看；第二：采用 <code>netstat -tunlp | grep xxx</code> 来查看。</p>
</blockquote>
<h1 id="27-netcat"><a href="#27-netcat" class="headerlink" title="27. netcat"></a>27. netcat</h1><p>netcat（通常缩写为nc）是一种计算机联网实用程序，用于使用TCP或UDP读写网络连接。 该命令被设计为可靠的后端，可以直接使用或由其他程序和脚本轻松驱动。 同时，它是功能丰富的网络调试和调查工具，因为它可以产生用户可能需要的几乎任何类型的连接，并具有许多内置功能。netcat被称为网络工具中的瑞士军刀，体积小巧，但功能强大。</p>
<h1 id="28-socat"><a href="#28-socat" class="headerlink" title="28. socat"></a>28. socat</h1><p>Socat 是 Linux 下的一个多功能的网络工具，名字来由是 「Socket CAT」。其功能与有瑞士军刀之称的 Netcat 类似，可以看做是 Netcat 的加强版。socat的官方网站： <a target="_blank" rel="noopener" href="http://www.dest-unreach.org/socat/">http://www.dest-unreach.org/socat/</a> </p>
<p>Socat 的主要特点就是在两个数据流之间建立通道，且支持众多协议和链接方式。如 IP、TCP、 UDP、IPv6、PIPE、EXEC、System、Open、Proxy、Openssl、Socket等。</p>
<h1 id="29-traceroute"><a href="#29-traceroute" class="headerlink" title="29. traceroute"></a>29. traceroute</h1><p>追踪从出发地（源主机）到目的地（目标主机）之间经过了哪些路由器，以及到达各个路由器之间的消耗的时间。默认发送的数据包大小是40字节。</p>
<h1 id="30-man"><a href="#30-man" class="headerlink" title="30. man"></a>30. man</h1><p>man是 POSIX(Portable Operating System Interface) 规定的帮助手册程序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">语法格式：man -n 命令参数</span><br><span class="line"></span><br><span class="line">其中 n 为数字，不同的数字表示如下：</span><br><span class="line">    1：普通应用程序或shell命令（Executable programs or shell commands）</span><br><span class="line">    2：系统调用（System calls (<span class="built_in">functions</span> provided by the kernel)）</span><br><span class="line">    3：库函数（Library calls (<span class="built_in">functions</span> within program libraries)）</span><br><span class="line">    4：设备文件（Special files (usually found <span class="keyword">in</span> /dev)）</span><br><span class="line">    5：文件格式、或相关协议（File formats and conventions, e.g. /etc/passwd）</span><br><span class="line">    6：游戏设备（Games）</span><br><span class="line">    7：其它设备（Miscellaneous (including macro packages and conventions), e.g. man(7), groff(7)）</span><br><span class="line">    8：root管理命令（System administration commands (usually only <span class="keyword">for</span> root)）</span><br><span class="line">    9：非标准的内核程序（Kernel routines [Non standard]）</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">  查找 socket 文档： man 2 socket</span><br></pre></td></tr></table></figure>
<p><img src="/pictures/man-description.png" alt="Alt text"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">man -k keyword    <span class="comment"># 按照关键字搜索与之匹配的相似命令。</span></span><br><span class="line"></span><br><span class="line">john@ubuntu:~$ man -k what</span><br><span class="line">git-blame (1)        - Show what revision and author last modified each line of a file</span><br><span class="line">git-receive-pack (1) - Receive what is pushed into the repository</span><br><span class="line">git-whatchanged (1)  - Show logs with difference each commit introduces</span><br><span class="line">imgtoppm (1)         - convert an Img-whatnot file into a portable pixmap</span><br><span class="line">lwp-dump (1p)        - See what headers and content is returned <span class="keyword">for</span> a URL</span><br><span class="line">w (1)                - Show <span class="built_in">who</span> is logged on and what they are doing.</span><br><span class="line">w.procps (1)         - Show <span class="built_in">who</span> is logged on and what they are doing.</span><br><span class="line">whatis (1)           - display one-line manual page descriptions</span><br></pre></td></tr></table></figure>

<ul>
<li>man 手册中的一些关键字</li>
</ul>
<table>
<thead>
<tr>
<th>英文描述</th>
<th>中文描述</th>
</tr>
</thead>
<tbody><tr>
<td>NAME</td>
<td>命令名</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>使用方法大纲</td>
</tr>
<tr>
<td>CONFIGURATION</td>
<td>配置xxx</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>功能说明</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>可选参数说明</td>
</tr>
<tr>
<td>EXAMPLE</td>
<td>实例</td>
</tr>
<tr>
<td>EXIT STATUS</td>
<td>退出状态（返回给父进程的值）</td>
</tr>
<tr>
<td>RETURN VALUE</td>
<td>返回值</td>
</tr>
<tr>
<td>ERRORS</td>
<td>错误类型</td>
</tr>
<tr>
<td>ENVIRONMENT</td>
<td>环境变量</td>
</tr>
<tr>
<td>FILES</td>
<td>相关配置文件</td>
</tr>
<tr>
<td>VERSIONS</td>
<td>版本</td>
</tr>
<tr>
<td>CONFORMING TO</td>
<td>符合的规范</td>
</tr>
<tr>
<td>NOTES</td>
<td>注意事项</td>
</tr>
<tr>
<td>BUGS</td>
<td>已经发现的 bug</td>
</tr>
<tr>
<td>AUTHORS</td>
<td>作者</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>与之功能相近的其它命令</td>
</tr>
</tbody></table>
<ul>
<li>man 中的快捷</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;string</td>
<td>向“下”搜寻string这个字串</td>
</tr>
<tr>
<td>?string</td>
<td>向“上”搜寻string这个字串</td>
</tr>
<tr>
<td>n</td>
<td>继续下一个搜寻</td>
</tr>
<tr>
<td>N</td>
<td>反向查询</td>
</tr>
</tbody></table>
<p>与 man 相似的命令是 info，而<code>info</code> 手册页按照节点（node）组织的，每个手册页文件是一个节点，手册页内支持链接到其它节点，如此组织犹如一张网，和网页类似。</p>
<ul>
<li>自定义软件安装路径配置 man page。<br>自定义的软件没有安装在 &#x2F;<code>usr/local/</code> 路径时，需手动配置 man page，否则使用 man 去查找软件相关的手册时，会找不到。例如：你安装的软件放置到<code>/usr/local/software/</code>， 那么 man page 搜寻的设置中， 可能就得要在 <code>/etc/man_db.conf </code>内的 40~50 行左右处， 写入 <code>MANPATH_MAP /usr/local/software/bin /usr/local/software/man</code>，这样才可以使用 man 来查询该软件的在线文件。</li>
</ul>
<h1 id="31-ntsysv"><a href="#31-ntsysv" class="headerlink" title="31. ntsysv"></a>31. ntsysv</h1><p>ntsysv 是 CentOS 下图形界面查看系统中有哪些启动的项。</p>
<h1 id="32-wget"><a href="#32-wget" class="headerlink" title="32. wget"></a>32. wget</h1><p>支持断点下载功能，同时支持FTP和HTTP下载方式，支持代理服务器设置。wget 下载单个文件下载。下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。</p>
<p>参考: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhoul/p/9939601.html">wget命令详解</a></p>
<h1 id="33-SHA"><a href="#33-SHA" class="headerlink" title="33. SHA"></a>33. SHA</h1><ul>
<li><p>SHA 是安全散列算法（英语：Secure Hash Algorithm，缩写为SHA），它是一个密码散列函数家族，是FIPS所认证的安全散列算法。能计算出一个数字消息所对应到的，长度固定的字符串（又称消息摘要）的算法。且若输入的消息不同，它们对应到不同字符串的机率很高。</p>
</li>
<li><p>SHA家族的五个算法，分别是SHA-1、SHA-224、SHA-256、SHA-384，和SHA-512，由美国国家安全局（NSA）所设计，并由美国国家标准与技术研究院（NIST）发布，是美国的政府标准。后四者有时并称为SHA-2。SHA-1在许多安全协定中广为使用，包括TLS和SSL、PGP、SSH、S&#x2F;MIME和IPsec，曾被视为是MD5（更早之前被广为使用的杂凑函数）的后继者。</p>
</li>
<li><p>生成 hash 校验: <code>sha1sum filename</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  直接生成 hash 校验后的结果</span></span><br><span class="line">Tim@computer:~/Downloads$ <span class="built_in">sha1sum</span> feeds-master.zip </span><br><span class="line">751420b576570fcbfb24e80e47e18168342541e0  feeds-master.zip</span><br></pre></td></tr></table></figure>

<p>feeds-master.zip 文件生成的 hash1 校验码为 <code>751420b576570fcbfb24e80e47e18168342541e0</code>。</p>
</li>
<li><p>为了检验 hash 结果的值是否真确，需要对 hash 结果进行校验。可以将生成 hash 的校验值存入到一个文件中，方便校验，对生成的结果进行校验时，需要加 <code>-c(check)</code> 参数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Tim@computer:~/Downloads$ <span class="built_in">sha1sum</span> feeds-master.zip &gt; a.txt</span><br><span class="line">Tim@computer:~/Downloads$ <span class="built_in">sha1sum</span> -c a.txt </span><br><span class="line">feeds-master.zip: OK</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="34-md5"><a href="#34-md5" class="headerlink" title="34. md5"></a>34. md5</h1><p>md5 是 消息摘要算法（英语：MD5 Message-Digest Algorithm），一种被广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值（hash value），用于确保信息传输完整一致。MD5由美国密码学家罗纳德·李维斯特（Ronald Linn Rivest）设计，于1992年公开，用以取代MD4算法。</p>
<p>MD5 校验的用法与 SHA 校验的用法一样。下面是 MD5 校验的用法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Tim@computer:~/Downloads$ <span class="built_in">md5sum</span> feeds-master.zip &gt; md.txt</span><br><span class="line">Tim@computer:~/Downloads$ <span class="built_in">cat</span> md.txt </span><br><span class="line">f273a8295e2c28e598764ed04898a742  feeds-master.zip</span><br><span class="line">Tim@computer:~/Downloads$ <span class="built_in">md5sum</span> -c md.txt </span><br><span class="line">feeds-master.zip: OK</span><br></pre></td></tr></table></figure>

<h1 id="35-ldconfig"><a href="#35-ldconfig" class="headerlink" title="35. ldconfig"></a>35. ldconfig</h1><p>ldconfig 是一个动态链接库管理命令，其目的为了让动态链接库为系统所共享。</p>
<p>主要是在默认搜寻目录 <code>/lib</code> 和 <code>/usr/lib</code> 以及动态库配置文件 <code>/etc/ld.so.conf</code> 内所列的目录下，搜索出可共享的动态链接库（格式如 <code>lib*.so*</code>），进而创建出动态装入程序(<code>ld.so</code>)所需的连接和缓存文件，缓存文件默认为 <code>/etc/ld.so.cache</code>，此文件保存已排好序的动态链接库名字列表。linux下的共享库机制采用了类似高速缓存机制，将库信息保存在 <code>/etc/ld.so.cache</code>，程序链接的时候首先从这个文件里查找，然后再到 <code>ld.so.conf</code> 的路径中查找。为了让动态链接库为系统所共享，需运行动态链接库的管理命令 <code>ldconfig</code>，此执行程序存放在 <code>/sbin</code> 目录下。</p>
<h1 id="36-ldd"><a href="#36-ldd" class="headerlink" title="36. ldd"></a>36. ldd</h1><p>作用：判断某个可执行的二进制文件含有什么动态库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@zk_190 etc]# ldd -v /usr/bin/cat</span><br><span class="line">        linux-vdso.so.1 =&gt;  (0x00007ffe11572000)</span><br><span class="line">        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f8996748000)</span><br><span class="line">        /lib64/ld-linux-x86-64.so.2 (0x00007f8996b16000)</span><br><span class="line"></span><br><span class="line">        Version information:</span><br><span class="line">        /usr/bin/cat:</span><br><span class="line">                libc.so.6 (GLIBC_2.3) =&gt; /lib64/libc.so.6</span><br><span class="line">                libc.so.6 (GLIBC_2.3.4) =&gt; /lib64/libc.so.6</span><br><span class="line">                libc.so.6 (GLIBC_2.14) =&gt; /lib64/libc.so.6</span><br><span class="line">                libc.so.6 (GLIBC_2.4) =&gt; /lib64/libc.so.6</span><br><span class="line">                libc.so.6 (GLIBC_2.2.5) =&gt; /lib64/libc.so.6</span><br><span class="line">        /lib64/libc.so.6:</span><br><span class="line">                ld-linux-x86-64.so.2 (GLIBC_2.3) =&gt; /lib64/ld-linux-x86-64.so.2</span><br><span class="line">                ld-linux-x86-64.so.2 (GLIBC_PRIVATE) =&gt; /lib64/ld-linux-x86-64.so.2</span><br><span class="line">        /lib64/ld-linux-x86-64.so.2 (0x00007faf69eef000)</span><br><span class="line"></span><br><span class="line">      <span class="comment"># 参数 -v 表示该函数来自于哪一个软件</span></span><br></pre></td></tr></table></figure>

<h1 id="37-chkconfig"><a href="#37-chkconfig" class="headerlink" title="37. chkconfig"></a>37. chkconfig</h1><p>chkconfig 命令用来更新（启动或停止）和查询系统服务的运行级信息。谨记 chkconfig 不是立即自动禁止或激活一个服务，它只是简单的改变了符号连接。</p>
<h1 id="38-LD-LIBRARY-PATH"><a href="#38-LD-LIBRARY-PATH" class="headerlink" title="38. LD_LIBRARY_PATH"></a>38. LD_LIBRARY_PATH</h1><p><code>LD_LIBRARY_PATH</code> 是 Linux 下用来处理环境变量的，告诉加载器（loader）在什么路径下去查找非标准库中的共享库。</p>
<p>Linux 运行的时候，是如何管理共享库(*.so)的？</p>
<p>​    在 Linux 下面，共享库的寻找和加载是由 &#x2F;lib&#x2F;ld.so 实现的。 ld.so 在标准路经(&#x2F;lib, &#x2F;usr&#x2F;lib) 中寻找应用程序用到的共享库。但是，如果需要用到的共享库在非标准路经，ld.so 怎么找到它呢？</p>
<p>目前，Linux 通用的做法是将非标准路经加入 &#x2F;etc&#x2F;ld.so.conf，然后运行 ldconfig 生成 &#x2F;etc&#x2F;ld.so.cache。 ld.so 加载共享库的时候，会从 ld.so.cache 查找。传统上，Linux 的先辈 Unix 还有一个环境变量：LD_LIBRARY_PATH 来处理非标准路经的共享库。ld.so 加载共享库的时候，也会查找这个变量所设置的路经。</p>
<p>LD_LIBRARY_PATH 的设置方法：用 <code>export</code> 命令来设置值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将 /home/John/IOV/Libs 中的共享库路径添加到环境变量中</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/home/John/IOV/Libs</span><br></pre></td></tr></table></figure>

<p>参考</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.cppblog.com/toMyself/archive/2010/08/02/121971.html">LD_LIBRARY_PATH</a></li>
<li><a target="_blank" rel="noopener" href="https://www.csdndocs.com/article/2589063">https://www.csdndocs.com/article/2589063</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/liu0808/article/details/79012187">linux 添加动态链接库路径</a></li>
</ul>
<h1 id="39-scp"><a href="#39-scp" class="headerlink" title="39. scp"></a>39. scp</h1><p>SCP(secure copy) 是基于ssh协议的安全拷贝，用于将文件&#x2F;目录安全地从本地主机传输到远程主机。</p>
<p>一般情况下 Linux 服务器都有 scp 命令，如果没有，可通过如下方式安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// centos</span><br><span class="line">yum -y install openssh-clients</span><br><span class="line"></span><br><span class="line">// Ubuntu</span><br><span class="line">apt-get install openssh-client </span><br></pre></td></tr></table></figure>

<ul>
<li>复制文件&#x2F;目录到远程主机</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 复制文件</span><br><span class="line">scp source_file_name user@destination_host:destination_folder</span><br><span class="line">//复制目录 </span><br><span class="line">scp -r source_directory user@destination_host:destination_folder </span><br><span class="line"></span><br><span class="line">[root@Client ~]# scp text.txt root@192.168.20.40:/root</span><br></pre></td></tr></table></figure>

<ul>
<li>从远程主机复制文件&#x2F;目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 复制文件</span><br><span class="line">scp user@source_host:source_file_name local_destination_folder </span><br><span class="line"> // 复制目录</span><br><span class="line">scp -r user@source_host:source_file_name local_destination_folder</span><br><span class="line"></span><br><span class="line">[root@Client ~]# scp root@192.168.20.40:/root/test40.txt /root</span><br><span class="line">root@192.168.20.40<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">test40.txt                                                                                                                   100%   12     4.2KB/s   00:00    </span></span><br><span class="line"><span class="string">[root@Client ~]# ll | grep test40.txt</span></span><br><span class="line"><span class="string">-rw-r--r--   1 root    root          12 7月   6 09:41 test40.txt</span></span><br></pre></td></tr></table></figure>

<h1 id="40-rsync"><a href="#40-rsync" class="headerlink" title="40. rsync"></a>40. rsync</h1><p>Rsync (remote synchronize) 实现同步本地主机和远程主机的文件&#x2F;目录，和 SCP 不同之处在于，首次复制时，Rsync 会复制整个目录，在后面的复制中，不会复制相同的内容，只对差异文件做更新，scp 是把所有文件都复制过去。Rsync 广泛用于备份和镜像。</p>
<p>安装 Rsync</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// centos</span><br><span class="line">yum install rsync</span><br><span class="line"></span><br><span class="line">// Ubuntu</span><br><span class="line">apt-get install rsync  </span><br></pre></td></tr></table></figure>

<p>参数项</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-t</td>
<td>将源文件的修改时间(modify time)同步到目标机器</td>
</tr>
<tr>
<td>-I</td>
<td>–ignore-times，不跳过时间和大小都匹配的文件，也就是不检查是否有改动，直接复制</td>
</tr>
<tr>
<td>-r</td>
<td>递归，用于目录复制</td>
</tr>
<tr>
<td>-a(archive)</td>
<td>存档模式，保存所有的元数据，比如修改时间（modification time）、权限、所有者等，并且软链接也会同步过去。</td>
</tr>
<tr>
<td>-v</td>
<td>打印复制过程</td>
</tr>
<tr>
<td>-l</td>
<td>拷贝符号连接</td>
</tr>
<tr>
<td>–delete</td>
<td>删除目标目录中多余的文件，也就是保持两个目录相同，使得目标目录成为源目录的镜像副本</td>
</tr>
</tbody></table>
<ul>
<li>复制文件&#x2F;目录到远程主机。如果复制的目标目录不存在，会自动创建，语法格式和SCP一样：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 复制文件</span><br><span class="line">rsync source_file_name/ user@destination_host:destination_folder</span><br><span class="line"></span><br><span class="line">// 复制目录</span><br><span class="line">rsync -r source_file_name/ user@destination_host:destination_folder </span><br><span class="line"></span><br><span class="line">[root@Client ~]# rsync test.txt root@192.168.20.40:/root</span><br><span class="line">root@192.168.20.40<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">[root@Client ~]# </span></span><br><span class="line"><span class="string">[root@Client ~]# rsync -rvl test/ root@192.168.20.40:/root/test222</span></span><br><span class="line"><span class="string">root@192.168.20.40&#x27;</span>s password: </span><br><span class="line">sending incremental file list</span><br><span class="line">created directory /root/test222</span><br><span class="line">./</span><br><span class="line">test2.txt</span><br><span class="line">test40.txt</span><br><span class="line"></span><br><span class="line">sent 187 bytes  received 93 bytes  62.22 bytes/sec</span><br><span class="line">total size is 12  speedup is 0.04</span><br></pre></td></tr></table></figure>

<ul>
<li>从远程主机复制文件&#x2F;目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 复制文件</span><br><span class="line">rsync user@source_host:source_file_name local_destination_folder </span><br><span class="line"></span><br><span class="line">// 复制目录</span><br><span class="line">rsync -r user@source_host:source_file_name local_destination_folder </span><br><span class="line"></span><br><span class="line">[root@Client ~]# rsync root@192.168.20.40:/root/test40.txt /root</span><br><span class="line">root@192.168.20.30<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">[root@Client ~]# ll test40.txt</span></span><br><span class="line"><span class="string">-rw-r--r-- 1 root root 12 7月   8 11:11 test40.txt</span></span><br></pre></td></tr></table></figure>

<ul>
<li>排除多个文件或目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avP --exclude=&#123;del_file1, del_file2, ...&#125; source_dir dest_dir</span><br><span class="line"></span><br><span class="line">rsync -avp --exclude=&#123;<span class="built_in">log</span>,*.so&#125; * root@192.168.153.222:/home/zhoushuhui/IOV/Server</span><br></pre></td></tr></table></figure>

<p>参考</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://hiyongz.github.io/posts/linux-copying-files-using-scp-or-rsync/">使用SCP或Rsync实现Linux主机之间文件、目录的复制 | HiYong (hiyongz.github.io)</a></li>
</ul>
<h1 id="41-防火墙"><a href="#41-防火墙" class="headerlink" title="41. 防火墙"></a>41. 防火墙</h1><h2 id="41-1-ubuntu-下默认的防火墙"><a href="#41-1-ubuntu-下默认的防火墙" class="headerlink" title="41.1. ubuntu 下默认的防火墙"></a>41.1. ubuntu 下默认的防火墙</h2><ul>
<li><code>sudo ufw status</code> 查看防火墙当前状态</li>
<li><code>sudo ufw enable</code> 开启防火墙</li>
<li><code>sudo ufw disable</code> 关闭防火墙</li>
<li><code>sudo ufw version</code> 查看防火墙版本</li>
<li><code>sudo ufw default allow</code> 默认允许外部访问本机</li>
<li><code>sudo ufw default deny</code> 默认拒绝外部访问主机</li>
<li><code>sudo ufw allow 53</code> 允许外部访问53端口</li>
<li><code>sudo ufw deny 53</code> 拒绝外部访问53端口</li>
<li><code>sudo ufw allow from 192.168.0.1</code> 允许某个IP地址访问本机所有端口</li>
</ul>
<h2 id="41-2-CentOS下默认的防火墙"><a href="#41-2-CentOS下默认的防火墙" class="headerlink" title="41.2. CentOS下默认的防火墙"></a>41.2. CentOS下默认的防火墙</h2><p>CentOS7下默认的防火墙为 <code>firewalld</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firwall-cmd：是 Linux 提供的操作 firewall 的一个工具</span><br><span class="line"></span><br><span class="line">参数项：</span><br><span class="line">    –-permanent：表示设置为持久；</span><br><span class="line">    –-add-port：标识添加的端口</span><br></pre></td></tr></table></figure>

<ul>
<li>启动： systemctl start firewalld</li>
<li>关闭： systemctl stop firewalld</li>
<li>查看系统防火墙状态： systemctl status firewalld</li>
<li>开机禁用： systemctl disable firewalld</li>
<li>开机启用： systemctl enable firewalld</li>
<li>查看firewall状态：firewall-cmd –state</li>
<li>重启防火墙：firewall-cmd –reload</li>
<li>查看版本： firewall-cmd –version</li>
<li>查看帮助： firewall-cmd –help</li>
<li>查看区域信息: firewall-cmd –get-active-zones</li>
<li>查看指定接口所属区域： firewall-cmd –get-zone-of-interface&#x3D;eth0</li>
<li>拒绝所有包：firewall-cmd –panic-on</li>
<li>取消拒绝状态： firewall-cmd –panic-off</li>
<li>查看是否拒绝： firewall-cmd –query-panic</li>
<li>查看开放的端口：firewall-cmd –list-ports</li>
<li>查询 <code>8080</code> 端口是否开放  firewall-cmd –query-port&#x3D;8080&#x2F;tcp</li>
<li>开放 <code>8080</code> 端口 firewall-cmd –permanent –add-port&#x3D;8080&#x2F;tcp</li>
<li>移除 <code>8080</code> 端口 firewall-cmd –permanent –remove-port&#x3D;8080&#x2F;tcp</li>
</ul>
<h1 id="42-SELinux"><a href="#42-SELinux" class="headerlink" title="42. SELinux"></a>42. SELinux</h1><p>SELinux 是 Security Enhanced Linux 的缩写，设计的目的是避免资源的利用。SELinux 是在进行进程、文件等详细权限配置时依据的一个核心模块。由于启动网络服务的也是进程，因此刚好也是能够控制网络服务能否存取系统资源的一道关卡。</p>
<p>SELinux 是通过 MAC(Mandatory Access Control：强制访问控制)的方式来管理进程的，它控制的 subject 是进程，object 是该进程能否读取的文件资源。</p>
<h1 id="43-QAQ"><a href="#43-QAQ" class="headerlink" title="43. QAQ"></a>43. QAQ</h1><h2 id="43-1-Linux-与-Windows相差-8-小时"><a href="#43-1-Linux-与-Windows相差-8-小时" class="headerlink" title="43.1. Linux 与 Windows相差 8 小时"></a>43.1. Linux 与 Windows相差 8 小时</h2><p>新版本的 Ubuntu 使用 <code>systemd</code> 启动之后，时间也改成了由 <code>timedatectl</code> 来管理，此方法就不适用了。<br><code>$sudo timedatectl set-local-rtc 1</code></p>
<p>重启完成将硬件时间 UTC 改为 CST，双系统时间保持一致。</p>
<p>先在 ubuntu下更新一下时间，确保时间无误：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> apt-get install utpdate</span><br><span class="line"><span class="variable">$sudo</span> ntpdate time.windows.com</span><br></pre></td></tr></table></figure>

<p>然后将时间更新到硬件上：<code>$sudo hwclock --localtime --systohc</code></p>
<h2 id="43-2-enca"><a href="#43-2-enca" class="headerlink" title="43.2. enca"></a>43.2. enca</h2><p><code>enca</code> 是 Linux 下的文件编码转换工具。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装：apt install enca</span><br><span class="line">查看版本：enca --versioN</span><br></pre></td></tr></table></figure>

<p>查看某个文件编码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN file_name</span><br></pre></td></tr></table></figure>

<p>将某个文件转化为 <code>utf-8</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN -x utf-8 file_name</span><br></pre></td></tr></table></figure>

<p>转化某个文件但如果不想覆盖原文件可以这样</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN -x UTF-8 &lt; file1 &gt; file2 </span><br></pre></td></tr></table></figure>

<p>查看当前目录下的文件编码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN `<span class="built_in">ls</span>`</span><br></pre></td></tr></table></figure>

<p>将当前目录下所有的文件转换为 UTF-8</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enca -L zh_CN -x utf-8 *</span><br></pre></td></tr></table></figure>

<p>源码地址： <a target="_blank" rel="noopener" href="https://dl.cihar.com/enca/">https://dl.cihar.com/enca/</a></p>
<h1 id="44-References"><a href="#44-References" class="headerlink" title="44. References"></a>44. References</h1><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/me115/linuxtools_rst">Github上Linux工具快速教程</a> ：这本书专注于Linux工具的最常用用法，以便读者能以最快时间掌握，并在工作中应用</li>
<li><a target="_blank" rel="noopener" href="https://developers.redhat.com/blog/2017/11/01/getting-started-llvm-toolset/">如何在centos上安装clang-tidy</a></li>
<li><a target="_blank" rel="noopener" href="https://ywnz.com/linuxxz/5941.html">CentOS 8发布下载，附新功能&#x2F;新特性介绍</a> </li>
<li>linux ldconfig命令,环境变量文件配置详解: <a target="_blank" rel="noopener" href="https://blog.csdn.net/winycg/article/details/80572735">https://blog.csdn.net/winycg/article/details/80572735</a></li>
<li>Linux 基础用法总结: <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/ioLF8ocrWuASlZRCUqo7KA">https://mp.weixin.qq.com/s/ioLF8ocrWuASlZRCUqo7KA</a> 自己酌情裁剪，吸收写的好的地方。</li>
<li>修复 apt-key deprecated 警告：<a target="_blank" rel="noopener" href="https://taoshu.in/unix/apt-key-deprecated.html">https://taoshu.in/unix/apt-key-deprecated.html</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://johnjeep.github.io">John Jeep</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://johnjeep.github.io/Linux/Linux/linux-basic/">https://johnjeep.github.io/Linux/Linux/linux-basic/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://johnjeep.github.io" target="_blank">Leaning Computer Science Journey</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/linux-basic/">linux-basic</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/Linux/Linux/introduce-perf/" title="introduce-perf"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">introduce-perf</div></div><div class="info-2"><div class="info-item-1">  perfperf 有时叫 perf_events 或 perf tools，最初的名字是 PCL(Performance Counters for Linux)，是 Linux 下的一个性能分析的工具(Performance analysis tools for Linux)，从 2009 年发行的 Linux 内核 2.6.31 版本开始支持。 Subcommandsperf  使用时支持多个子命令。  stat: measure total event count for single program or for system for some time top: top-like dynamic view of hottest functions record: measure and save sampling data for single program[13] report: analyze file generated by perf record; can generate flat, or graph profile.[13] annotate:...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/linux-distribution/" title="linux-distribution"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">linux-distribution</div></div><div class="info-2"><div class="info-item-1">  DistributionTerminology  TLS: Long Term Support ELTS: Extended Long Term Support  DebianDebian is an operating system which is composed primarily of free and open-source software, most of which is under the GNU General Public License, and developed by a group of individuals known as the Debian project. Debian is one of the most popular Linux distributions for personal computers and network servers, and has been used as a base for several other Linux distributions.  Debian 4.0 (Etch) was...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/Linux/Linux/cgroups/" title="cgroups"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">cgroups</div></div><div class="info-2"><div class="info-item-1">  1. Introducecgroup 是 control group 的缩写，cgroups 是 control groups 的缩写，是 Linux 内核提供的一种可以限制、记录、隔离进程组（process groups）所使用物理资源（如： cpu,memory,IO 等等）的机制。最初由 google 的  工程师提出，后来被整合进 Linux 内核。内核版本 2.6.24 开始引入，在 3.15 和 3.16 的内核版本中得到了加强。 2. 概念 hierarchy：cgroups...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/clock/" title="clock"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">clock</div></div><div class="info-2"><div class="info-item-1">1. Linux 时钟1.1. datedate 命令可以用来查看和手动设置日期、时间。命令格式如下： 12345678# 查看日期[root@zz-scf-iot-api02 log]# dateThu Sep 26 10:32:11 CST 2024# 修改时间[root@node1 ~]# date -s &quot;20240225 20:16:00&quot;  #yyyymmdd hh:mm:ssTue Feb 25 20:16:00 CST 2024  MM：月份（两位数，01-12） DD：日期（两位数，01-31） hh：小时（两位数，00-23，24小时制） mm：分钟（两位数，00-59） YYYY：年份（四位数） 1.2. hwclockLinux 系统的硬件时间。 12345678910# 查看硬件时间root@DESKTOP-0S33AUT:/home/hacker# hwclock2024-09-26 10:36:37.978831+08:00#...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/compile-link/" title="compile-link"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">compile-link</div></div><div class="info-2"><div class="info-item-1">  1. 缩写 EXE(Executable)：可执行文件 PE(Portable Executable)：可移植可执行。 ELF(Executable Linkable Format)：可执行可链接格式。 DLL(Dynamic ALinking Library): windows下的以 .dll 方式命名，Linux下的以 .so 方式命名。 SLL(Static ALinking Library): windows下的以 .lib 方式命名，Linux的以 .a 方式命名。 BSS(Block Started by Symbol): 未初始化的全局变量和局部静态变量的区域。  2. 程序处理过程程序处理的流程：源代码→预处理→编译→汇编→目标文件→链接→可执行文件 预处理(Preprocessing)  处理C、C++源代码 #include 文件生成预处理文件 .i 或者 .ii 文件  编译(Compile)  将预处理文件编译成汇编代码 .s 文件  汇编(Assemble)  汇编代码生成目标文件(.o 或者 .obj)  目标文件(Object...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/coredump/" title="coredump"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">coredump</div></div><div class="info-2"><div class="info-item-1">  1. 什么是 Core dump?Core dump 中文翻译为“核心转储”，它是进程运行时在突然崩溃的那一刻的一个内存快照。 程序 core 是指应用程序无法保持正常 running 状态而发生的崩溃行为。程序 core 时会生成相关的 core-dump 文件，是程序崩溃时程序状态的数据备份。 操作系统在程序发生异常而异常在进程内部又没有被捕获的情况下，会把内存、处理器、寄存器、程序计数器、栈指针等状态信息保存在一个文件里。该文件是二进制文件，使用 gdb、elfdump、objdump 或者 windows 下的 windebug、solaris下 的 mdb 等工具打开和分析文件的内容。 2. core 产生原因2.1. Core dump 产生前提条件进程在 core dump 的时候会产生 core 文件，但是有时候却发现进程虽然发生了 core dump，但是在体统中却找不到 core文件。那到底是哪儿出了问题？ ulimit  -c 可以设置 core 文件的大小，如果这个值为 0，则不会产生 core 文件，这个值太小，则 core...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/curl/" title="curl"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">curl</div></div><div class="info-2"><div class="info-item-1">  1. Curllinux curl 是一个利用 URL 规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称 url为下载工具。 1.1. API/usr/include/curl/curl.h 中。 CURLcode curl_global_init(long flags);描述：这个函数只能用一次。(其实在调用curl_global_cleanup 函数后仍然可再用)如果这个函数在curl_easy_init函数调用时还没调用，它讲由libcurl库自动完成。 参数：flags CURL_GLOBAL_ALL  &#x2F;&#x2F;初始化所有的可能的调用。CURL_GLOBAL_SSL  &#x2F;&#x2F;初始化支持 安全套接字层。CURL_GLOBAL_WIN32 &#x2F;&#x2F;初始化win32套接字库。CURL_GLOBAL_NOTHING   &#x2F;&#x2F;没有额外的初始化。 1.1.2. void...</div></div></div></a><a class="pagination-related" href="/Linux/Linux/curses/" title="curses"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">curses</div></div><div class="info-2"><div class="info-item-1">  1. 介绍ncurses(new curses)是一套编程库，它提供了一系列的函数以便使用者调用它们去生成基于文本的用户界面。ncurses名字中的n意味着“new”，因为它是curses的自由软件版本。由于AT&amp;T“臭名昭著”的版权政策，人们不得不在后来用ncurses去代替它。ncurses是GNU计划的一部分，但它却是少数几个不使用GNU GPL或LGPL授权的GNU软件之一。 其实我们对ncurses本身并不陌生，以下几款大名鼎鼎的软件都用到过ncurses：  vim emacs lynx screen  2. 安装2.1. Ubuntu 中安装 curses1sudo apt-get install libncurses5-dev  2.2. centos 中安装 curses1yum install ncurses-devel  2.3. 源码安装 ncurse 库下载地址：http://ftp.gnu.org/pub/gnu/ncurses/ 3....</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">John Jeep</div><div class="author-info-description">lifestyle is lazy, faster, thinking</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">262</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">289</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">56</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/JohnJeep/Learning-CS-Journey"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/xxxxx@gmail.com" target="_blank" title="Gmail"><i class="fa-solid fa-bell" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Linux-Basic"><span class="toc-number">1.</span> <span class="toc-text">1. Linux Basic</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E7%A1%AC%E4%BB%B6%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text">2. 硬件基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-MBR"><span class="toc-number">2.1.</span> <span class="toc-text">2.1. MBR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-GPT"><span class="toc-number">2.2.</span> <span class="toc-text">2.2. GPT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-BIOS%E4%B8%8EUEFI"><span class="toc-number">2.3.</span> <span class="toc-text">2.3. BIOS与UEFI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E5%88%86%E5%8C%BA"><span class="toc-number">2.4.</span> <span class="toc-text">2.4. 分区</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">3. 基础命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-touch"><span class="toc-number">3.1.</span> <span class="toc-text">3.1. touch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-rm"><span class="toc-number">3.2.</span> <span class="toc-text">3.2. rm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-mkdir"><span class="toc-number">3.3.</span> <span class="toc-text">3.3. mkdir</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-rmdir"><span class="toc-number">3.4.</span> <span class="toc-text">3.4. rmdir</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-mv"><span class="toc-number">3.5.</span> <span class="toc-text">3.5. mv</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-cp"><span class="toc-number">3.6.</span> <span class="toc-text">3.6. cp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-ls"><span class="toc-number">3.7.</span> <span class="toc-text">3.7. ls</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-stat"><span class="toc-number">3.8.</span> <span class="toc-text">3.8. stat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-disk"><span class="toc-number">3.9.</span> <span class="toc-text">3.9. disk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10-fdisk"><span class="toc-number">3.10.</span> <span class="toc-text">3.10. fdisk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11-df"><span class="toc-number">3.11.</span> <span class="toc-text">3.11. df</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-12-mount"><span class="toc-number">3.12.</span> <span class="toc-text">3.12. mount</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-13-umount"><span class="toc-number">3.13.</span> <span class="toc-text">3.13. umount</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-14-which"><span class="toc-number">3.14.</span> <span class="toc-text">3.14. which</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-15-whereis"><span class="toc-number">3.15.</span> <span class="toc-text">3.15. whereis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-16-hostname"><span class="toc-number">3.16.</span> <span class="toc-text">3.16. hostname</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3"><span class="toc-number">4.</span> <span class="toc-text">4. 系统相关</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4"><span class="toc-number">5.</span> <span class="toc-text">5. 文件查看命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-cat"><span class="toc-number">5.1.</span> <span class="toc-text">5.1. cat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-tac"><span class="toc-number">5.2.</span> <span class="toc-text">5.2. tac</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-nl"><span class="toc-number">5.3.</span> <span class="toc-text">5.3. nl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-more"><span class="toc-number">5.4.</span> <span class="toc-text">5.4. more</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-less"><span class="toc-number">5.5.</span> <span class="toc-text">5.5. less</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-od"><span class="toc-number">5.6.</span> <span class="toc-text">5.6. od</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-head-%E5%92%8C-tail"><span class="toc-number">5.7.</span> <span class="toc-text">5.7. head 和 tail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-uniq"><span class="toc-number">5.8.</span> <span class="toc-text">5.8. uniq</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E6%96%87%E4%BB%B6-I-O"><span class="toc-number">6.</span> <span class="toc-text">6. 文件 I&#x2F;O</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">6.1.</span> <span class="toc-text">6.1. 文件权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-umask"><span class="toc-number">6.2.</span> <span class="toc-text">6.2. umask</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-chattr"><span class="toc-number">6.3.</span> <span class="toc-text">6.3. chattr</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">6.4.</span> <span class="toc-text">6.4. 用户与用户组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E4%BF%AE%E6%94%B9"><span class="toc-number">6.5.</span> <span class="toc-text">6.5. 用户权限修改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-1-chown"><span class="toc-number">6.5.1.</span> <span class="toc-text">6.5.1. chown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-2-chgrp"><span class="toc-number">6.5.2.</span> <span class="toc-text">6.5.2. chgrp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-3-chmod"><span class="toc-number">6.5.3.</span> <span class="toc-text">6.5.3. chmod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-4-usermod"><span class="toc-number">6.5.4.</span> <span class="toc-text">6.5.4. usermod</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number">6.6.</span> <span class="toc-text">6.6. 特殊权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7-%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.7.</span> <span class="toc-text">6.7. 文件类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-8-Linux-%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95"><span class="toc-number">6.8.</span> <span class="toc-text">6.8. Linux 系统目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-9-%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E4%B8%8E%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">6.9.</span> <span class="toc-text">6.9. 绝对路径与相对路径</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-tar"><span class="toc-number">7.</span> <span class="toc-text">7. tar</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-tar%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85"><span class="toc-number">7.1.</span> <span class="toc-text">7.1. tar文件打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E6%89%93%E5%8C%85%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-number">7.2.</span> <span class="toc-text">7.2. 打包文件或目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6"><span class="toc-number">7.3.</span> <span class="toc-text">7.3. 解压文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E6%89%93%E5%8C%85%E5%B9%B6%E5%8E%8B%E7%BC%A9"><span class="toc-number">7.4.</span> <span class="toc-text">7.4. 打包并压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-5-%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%8C%85"><span class="toc-number">7.5.</span> <span class="toc-text">7.5. 解压缩包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-6-zcat-zless"><span class="toc-number">7.6.</span> <span class="toc-text">7.6. zcat zless</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-7-zip"><span class="toc-number">7.7.</span> <span class="toc-text">7.7. zip</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-link"><span class="toc-number">8.</span> <span class="toc-text">8. link</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-hard-links"><span class="toc-number">8.1.</span> <span class="toc-text">8.1. hard links</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-symbolic-links"><span class="toc-number">8.2.</span> <span class="toc-text">8.2. symbolic links</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-pipe"><span class="toc-number">9.</span> <span class="toc-text">9. pipe</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-tee"><span class="toc-number">10.</span> <span class="toc-text">10. tee</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-wc"><span class="toc-number">11.</span> <span class="toc-text">11. wc</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-ps"><span class="toc-number">12.</span> <span class="toc-text">12. ps</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-killall-%E4%B8%8E-pkill"><span class="toc-number">13.</span> <span class="toc-text">13. killall 与 pkill</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-nohup"><span class="toc-number">14.</span> <span class="toc-text">14. nohup</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15-pstree"><span class="toc-number">15.</span> <span class="toc-text">15. pstree</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16-ltrace"><span class="toc-number">16.</span> <span class="toc-text">16. ltrace</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17-strace"><span class="toc-number">17.</span> <span class="toc-text">17. strace</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18-pstack"><span class="toc-number">18.</span> <span class="toc-text">18. pstack</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19-find"><span class="toc-number">19.</span> <span class="toc-text">19. find</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#20-xargs"><span class="toc-number">20.</span> <span class="toc-text">20. xargs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#21-grep"><span class="toc-number">21.</span> <span class="toc-text">21. grep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#22-pgrep"><span class="toc-number">22.</span> <span class="toc-text">22. pgrep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#23-PID"><span class="toc-number">23.</span> <span class="toc-text">23. PID</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#24-dd"><span class="toc-number">24.</span> <span class="toc-text">24. dd</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#25-ss"><span class="toc-number">25.</span> <span class="toc-text">25. ss</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#26-lsof"><span class="toc-number">26.</span> <span class="toc-text">26. lsof</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#27-netcat"><span class="toc-number">27.</span> <span class="toc-text">27. netcat</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#28-socat"><span class="toc-number">28.</span> <span class="toc-text">28. socat</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#29-traceroute"><span class="toc-number">29.</span> <span class="toc-text">29. traceroute</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#30-man"><span class="toc-number">30.</span> <span class="toc-text">30. man</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#31-ntsysv"><span class="toc-number">31.</span> <span class="toc-text">31. ntsysv</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#32-wget"><span class="toc-number">32.</span> <span class="toc-text">32. wget</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#33-SHA"><span class="toc-number">33.</span> <span class="toc-text">33. SHA</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#34-md5"><span class="toc-number">34.</span> <span class="toc-text">34. md5</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#35-ldconfig"><span class="toc-number">35.</span> <span class="toc-text">35. ldconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#36-ldd"><span class="toc-number">36.</span> <span class="toc-text">36. ldd</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#37-chkconfig"><span class="toc-number">37.</span> <span class="toc-text">37. chkconfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#38-LD-LIBRARY-PATH"><span class="toc-number">38.</span> <span class="toc-text">38. LD_LIBRARY_PATH</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#39-scp"><span class="toc-number">39.</span> <span class="toc-text">39. scp</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#40-rsync"><span class="toc-number">40.</span> <span class="toc-text">40. rsync</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#41-%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">41.</span> <span class="toc-text">41. 防火墙</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-1-ubuntu-%E4%B8%8B%E9%BB%98%E8%AE%A4%E7%9A%84%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">41.1.</span> <span class="toc-text">41.1. ubuntu 下默认的防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#41-2-CentOS%E4%B8%8B%E9%BB%98%E8%AE%A4%E7%9A%84%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">41.2.</span> <span class="toc-text">41.2. CentOS下默认的防火墙</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#42-SELinux"><span class="toc-number">42.</span> <span class="toc-text">42. SELinux</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#43-QAQ"><span class="toc-number">43.</span> <span class="toc-text">43. QAQ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#43-1-Linux-%E4%B8%8E-Windows%E7%9B%B8%E5%B7%AE-8-%E5%B0%8F%E6%97%B6"><span class="toc-number">43.1.</span> <span class="toc-text">43.1. Linux 与 Windows相差 8 小时</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-2-enca"><span class="toc-number">43.2.</span> <span class="toc-text">43.2. enca</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#44-References"><span class="toc-number">44.</span> <span class="toc-text">44. References</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Learning-CS-Journey/CONVENTION/" title="CONVENTION">CONVENTION</a><time datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Learning-CS-Journey/README/" title="README">README</a><time datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Learning-CS-Journey/STARCHARTS/" title="STARCHARTS">STARCHARTS</a><time datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/AI/AI/AIGC/" title="AIGC">AIGC</a><time datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/AI/AI/ollama/" title="ollama">ollama</a><time datetime="2025-04-04T12:24:00.000Z" title="发表于 2025-04-04 20:24:00">2025-04-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By John Jeep</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>